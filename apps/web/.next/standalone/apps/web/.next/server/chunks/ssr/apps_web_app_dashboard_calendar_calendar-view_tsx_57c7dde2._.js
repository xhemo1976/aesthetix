module.exports=[95555,a=>{"use strict";var b=a.i(50586),c=a.i(92989),d=a.i(63449),e=a.i(41487),f=a.i(32714),g=a.i(55404);let h=(0,a.i(72873).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var i=a.i(25246),j=a.i(99756),k=a.i(69544),l=a.i(49453),m=a.i(21798),n=a.i(45247);let o={scheduled:"bg-blue-100 border-blue-300 text-blue-800 hover:bg-blue-200",confirmed:"bg-green-100 border-green-300 text-green-800 hover:bg-green-200",completed:"bg-gray-100 border-gray-300 text-gray-800 hover:bg-gray-200",cancelled:"bg-red-100 border-red-300 text-red-800 hover:bg-red-200",no_show:"bg-orange-100 border-orange-300 text-orange-800 hover:bg-orange-200"};function p({appointments:a,currentDate:c,onAppointmentClick:d}){let e=a.filter(a=>{let b=new Date(a.start_time);return b.getDate()===c.getDate()&&b.getMonth()===c.getMonth()&&b.getFullYear()===c.getFullYear()}).sort((a,b)=>new Date(a.start_time).getTime()-new Date(b.start_time).getTime()),g=Array.from({length:13},(a,b)=>b+8),h=a=>a.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),i=[];for(let a=0;a<e.length;a++){let b=e[a],c=new Date(b.start_time).getTime(),d=new Date(b.end_time).getTime(),f=e.filter((b,e)=>{if(a===e)return!1;let f=new Date(b.start_time).getTime();return c<new Date(b.end_time).getTime()&&d>f}),g=0,h=new Set;for(f.forEach(b=>{let c=e.indexOf(b);if(c<a){let a=i[c]?.column??0;h.add(a)}});h.has(g);)g++;let j=Math.max(f.length+1,1);i.push({...b,column:g,totalColumns:j})}return(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-0",children:0===e.length?(0,b.jsxs)("div",{className:"py-12 text-center text-muted-foreground",children:[(0,b.jsx)(m.Clock,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"Keine Termine für diesen Tag"})]}):(0,b.jsx)("div",{className:"relative",children:(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"w-20 flex-shrink-0 border-r",children:g.map(a=>(0,b.jsxs)("div",{className:"h-20 border-b px-2 py-1 text-xs text-muted-foreground",children:[a,":00"]},a))}),(0,b.jsxs)("div",{className:"flex-1 relative",style:{minHeight:`${80*g.length}px`},children:[g.map((a,c)=>(0,b.jsx)("div",{className:"absolute w-full border-b",style:{top:`${80*c}px`,height:"80px"}},a)),i.map(a=>{var c,e;let f,g,i,j=100/a.totalColumns,k=a.column/a.totalColumns*100;return(0,b.jsxs)("div",{onClick:()=>d?.(a),className:`absolute rounded-lg border-l-4 p-2 shadow-sm cursor-pointer transition-all overflow-visible ${o[a.status]||o.scheduled}`,style:{top:`${(g=(f=new Date(a.start_time)).getHours(),((g-8)*60+f.getMinutes())/60*80)}px`,minHeight:`${Math.max((c=a.start_time,e=a.end_time,i=new Date(c),(new Date(e).getTime()-i.getTime())/1e3/60/60*80),80)}px`,left:`calc(${k}% + 8px)`,width:`calc(${j}% - 16px)`},children:[(0,b.jsxs)("div",{className:"font-semibold text-sm flex items-center gap-1",children:[(0,b.jsx)(m.Clock,{className:"w-3 h-3"}),h(new Date(a.start_time))," - ",h(new Date(a.end_time))]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,b.jsx)(l.User,{className:"w-3 h-3"}),(0,b.jsxs)("span",{className:"text-sm",children:[a.customers.first_name," ",a.customers.last_name]})]}),(0,b.jsx)("div",{className:"text-xs mt-1 opacity-75",children:a.services.name}),a.employees&&(0,b.jsxs)("div",{className:"flex items-center gap-1 mt-1 text-xs opacity-75",children:[(0,b.jsx)(n.UserCircle,{className:"w-3 h-3"}),a.employees.first_name," ",a.employees.last_name]}),"confirmed"===a.customer_response&&(0,b.jsx)("div",{className:"text-xs mt-1 font-semibold",children:"✓ Bestätigt"})]},a.id)})]})]})})})})}let q={scheduled:"bg-blue-500 hover:bg-blue-600",confirmed:"bg-green-500 hover:bg-green-600",completed:"bg-gray-500 hover:bg-gray-600",cancelled:"bg-red-500 hover:bg-red-600",no_show:"bg-orange-500 hover:bg-orange-600"};function r({appointments:a,currentDate:c,onAppointmentClick:d}){let e=new Date(c),g=e.getDay(),h=e.getDate()-g+(0===g?-6:1);e.setDate(h),e.setHours(0,0,0,0);let i=Array.from({length:7},(a,b)=>{let c=new Date(e);return c.setDate(e.getDate()+b),c});return(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"grid grid-cols-7 divide-x",children:i.map((c,e)=>{let f,g=a.filter(a=>{let b=new Date(a.start_time);return b.getDate()===c.getDate()&&b.getMonth()===c.getMonth()&&b.getFullYear()===c.getFullYear()}).sort((a,b)=>new Date(a.start_time).getTime()-new Date(b.start_time).getTime()),h=(f=new Date,c.getDate()===f.getDate()&&c.getMonth()===f.getMonth()&&c.getFullYear()===f.getFullYear());return(0,b.jsxs)("div",{className:`min-h-[500px] ${h?"bg-primary/5":""}`,children:[(0,b.jsxs)("div",{className:`p-3 border-b text-center ${h?"bg-primary text-primary-foreground":"bg-muted/50"}`,children:[(0,b.jsx)("div",{className:"text-xs font-medium",children:c.toLocaleDateString("de-DE",{weekday:"short"})}),(0,b.jsx)("div",{className:`text-lg font-bold ${h?"":"text-muted-foreground"}`,children:c.getDate()})]}),(0,b.jsx)("div",{className:"p-2 space-y-1",children:0===g.length?(0,b.jsx)("div",{className:"text-center py-8 text-xs text-muted-foreground",children:"Keine Termine"}):g.map(a=>(0,b.jsxs)("div",{onClick:()=>d?.(a),className:`p-2 rounded text-xs text-white cursor-pointer transition-colors ${q[a.status]||q.scheduled}`,children:[(0,b.jsxs)("div",{className:"font-semibold flex items-center gap-1",children:[(0,b.jsx)(m.Clock,{className:"w-3 h-3"}),new Date(a.start_time).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})]}),(0,b.jsxs)("div",{className:"truncate mt-1",children:[a.customers.first_name," ",a.customers.last_name]}),(0,b.jsx)("div",{className:"truncate opacity-90",children:a.services.name}),a.employees&&(0,b.jsxs)("div",{className:"truncate flex items-center gap-1 opacity-90",children:[(0,b.jsx)(n.UserCircle,{className:"w-3 h-3"}),a.employees.first_name," ",a.employees.last_name]}),"confirmed"===a.customer_response&&(0,b.jsx)("div",{className:"mt-1 text-[10px]",children:"✓ Bestätigt"})]},a.id))})]},e)})})})})}let s={scheduled:"bg-blue-500",confirmed:"bg-green-500",completed:"bg-gray-500",cancelled:"bg-red-500",no_show:"bg-orange-500"};function t({appointments:a,currentDate:c}){let d=c.getFullYear(),e=c.getMonth(),g=new Date(d,e,1),h=new Date(d,e+1,0),i=g.getDay()-1;-1===i&&(i=6);let j=h.getDate(),k=7*Math.ceil((j+i)/7),l=[];for(let a=0;a<k;a++)a<i||a>=i+j?l.push(null):l.push(new Date(d,e,a-i+1));return(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-0",children:(0,b.jsxs)("div",{className:"grid grid-cols-7",children:[["Mo","Di","Mi","Do","Fr","Sa","So"].map(a=>(0,b.jsx)("div",{className:"p-3 text-center font-semibold border-b bg-muted/50 text-sm",children:a},a)),l.map((c,d)=>{let e=c?a.filter(a=>{let b=new Date(a.start_time);return b.getDate()===c.getDate()&&b.getMonth()===c.getMonth()&&b.getFullYear()===c.getFullYear()}):[],f=(a=>{if(!a)return!1;let b=new Date;return a.getDate()===b.getDate()&&a.getMonth()===b.getMonth()&&a.getFullYear()===b.getFullYear()})(c);return(0,b.jsx)("div",{className:`min-h-[100px] border-r border-b p-2 ${c?f?"bg-primary/10":"hover:bg-muted/30":"bg-muted/10"}`,children:c&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:`text-sm font-semibold mb-1 ${f?"text-primary":"text-muted-foreground"}`,children:c.getDate()}),(0,b.jsxs)("div",{className:"space-y-0.5",children:[e.slice(0,3).map(a=>(0,b.jsx)("div",{className:`h-1.5 rounded-full ${s[a.status]||s.scheduled} ${"confirmed"===a.customer_response?"ring-2 ring-green-300":""}`,title:`${a.status}${"confirmed"===a.customer_response?" - Bestätigt":""}`},a.id)),e.length>3&&(0,b.jsxs)("div",{className:"text-[10px] text-muted-foreground",children:["+",e.length-3," weitere"]})]}),e.length>0&&(0,b.jsxs)("div",{className:"text-[10px] text-muted-foreground mt-1",children:[e.length," Termin",1!==e.length?"e":""]})]})},d)})]})})})}var u=a.i(97733),v=a.i(44320),w=a.i(22114),x=a.i(49863),y=a.i(4647),z=a.i(30635),A=a.i(69198),B=a.i(48972),C=a.i(59653),D="ScrollArea",[E,F]=(0,w.createContextScope)(D),[G,H]=E(D),I=c.forwardRef((a,d)=>{let{__scopeScrollArea:e,type:f="hover",dir:g,scrollHideDelay:h=600,...i}=a,[j,k]=c.useState(null),[l,m]=c.useState(null),[n,o]=c.useState(null),[p,q]=c.useState(null),[r,s]=c.useState(null),[t,v]=c.useState(0),[w,y]=c.useState(0),[A,B]=c.useState(!1),[C,D]=c.useState(!1),E=(0,x.useComposedRefs)(d,a=>k(a)),F=(0,z.useDirection)(g);return(0,b.jsx)(G,{scope:e,type:f,dir:F,scrollHideDelay:h,scrollArea:j,viewport:l,onViewportChange:m,content:n,onContentChange:o,scrollbarX:p,onScrollbarXChange:q,scrollbarXEnabled:A,onScrollbarXEnabledChange:B,scrollbarY:r,onScrollbarYChange:s,scrollbarYEnabled:C,onScrollbarYEnabledChange:D,onCornerWidthChange:v,onCornerHeightChange:y,children:(0,b.jsx)(u.Primitive.div,{dir:F,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":t+"px","--radix-scroll-area-corner-height":w+"px",...a.style}})})});I.displayName=D;var J="ScrollAreaViewport",K=c.forwardRef((a,d)=>{let{__scopeScrollArea:e,children:f,nonce:g,...h}=a,i=H(J,e),j=c.useRef(null),k=(0,x.useComposedRefs)(d,j,i.onViewportChange);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:g}),(0,b.jsx)(u.Primitive.div,{"data-radix-scroll-area-viewport":"",...h,ref:k,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...a.style},children:(0,b.jsx)("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:f})})]})});K.displayName=J;var L="ScrollAreaScrollbar",M=c.forwardRef((a,d)=>{let{forceMount:e,...f}=a,g=H(L,a.__scopeScrollArea),{onScrollbarXEnabledChange:h,onScrollbarYEnabledChange:i}=g,j="horizontal"===a.orientation;return c.useEffect(()=>(j?h(!0):i(!0),()=>{j?h(!1):i(!1)}),[j,h,i]),"hover"===g.type?(0,b.jsx)(N,{...f,ref:d,forceMount:e}):"scroll"===g.type?(0,b.jsx)(O,{...f,ref:d,forceMount:e}):"auto"===g.type?(0,b.jsx)(P,{...f,ref:d,forceMount:e}):"always"===g.type?(0,b.jsx)(Q,{...f,ref:d}):null});M.displayName=L;var N=c.forwardRef((a,d)=>{let{forceMount:e,...f}=a,g=H(L,a.__scopeScrollArea),[h,i]=c.useState(!1);return c.useEffect(()=>{let a=g.scrollArea,b=0;if(a){let c=()=>{window.clearTimeout(b),i(!0)},d=()=>{b=window.setTimeout(()=>i(!1),g.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(b),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[g.scrollArea,g.scrollHideDelay]),(0,b.jsx)(v.Presence,{present:e||h,children:(0,b.jsx)(P,{"data-state":h?"visible":"hidden",...f,ref:d})})}),O=c.forwardRef((a,d)=>{var e;let{forceMount:f,...g}=a,h=H(L,a.__scopeScrollArea),i="horizontal"===a.orientation,j=ag(()=>l("SCROLL_END"),100),[k,l]=(e={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},c.useReducer((a,b)=>e[a][b]??a,"hidden"));return c.useEffect(()=>{if("idle"===k){let a=window.setTimeout(()=>l("HIDE"),h.scrollHideDelay);return()=>window.clearTimeout(a)}},[k,h.scrollHideDelay,l]),c.useEffect(()=>{let a=h.viewport,b=i?"scrollLeft":"scrollTop";if(a){let c=a[b],d=()=>{let d=a[b];c!==d&&(l("SCROLL"),j()),c=d};return a.addEventListener("scroll",d),()=>a.removeEventListener("scroll",d)}},[h.viewport,i,l,j]),(0,b.jsx)(v.Presence,{present:f||"hidden"!==k,children:(0,b.jsx)(Q,{"data-state":"hidden"===k?"hidden":"visible",...g,ref:d,onPointerEnter:(0,C.composeEventHandlers)(a.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:(0,C.composeEventHandlers)(a.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),P=c.forwardRef((a,d)=>{let e=H(L,a.__scopeScrollArea),{forceMount:f,...g}=a,[h,i]=c.useState(!1),j="horizontal"===a.orientation,k=ag(()=>{if(e.viewport){let a=e.viewport.offsetWidth<e.viewport.scrollWidth,b=e.viewport.offsetHeight<e.viewport.scrollHeight;i(j?a:b)}},10);return ah(e.viewport,k),ah(e.content,k),(0,b.jsx)(v.Presence,{present:f||h,children:(0,b.jsx)(Q,{"data-state":h?"visible":"hidden",...g,ref:d})})}),Q=c.forwardRef((a,d)=>{let{orientation:e="vertical",...f}=a,g=H(L,a.__scopeScrollArea),h=c.useRef(null),i=c.useRef(0),[j,k]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=ab(j.viewport,j.content),m={...f,sizes:j,onSizesChange:k,hasThumb:!!(l>0&&l<1),onThumbChange:a=>h.current=a,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:a=>i.current=a};function n(a,b){return function(a,b,c,d="ltr"){let e=ac(c),f=b||e/2,g=c.scrollbar.paddingStart+f,h=c.scrollbar.size-c.scrollbar.paddingEnd-(e-f),i=c.content-c.viewport;return ae([g,h],"ltr"===d?[0,i]:[-1*i,0])(a)}(a,i.current,j,b)}return"horizontal"===e?(0,b.jsx)(R,{...m,ref:d,onThumbPositionChange:()=>{if(g.viewport&&h.current){let a=ad(g.viewport.scrollLeft,j,g.dir);h.current.style.transform=`translate3d(${a}px, 0, 0)`}},onWheelScroll:a=>{g.viewport&&(g.viewport.scrollLeft=a)},onDragScroll:a=>{g.viewport&&(g.viewport.scrollLeft=n(a,g.dir))}}):"vertical"===e?(0,b.jsx)(S,{...m,ref:d,onThumbPositionChange:()=>{if(g.viewport&&h.current){let a=ad(g.viewport.scrollTop,j);h.current.style.transform=`translate3d(0, ${a}px, 0)`}},onWheelScroll:a=>{g.viewport&&(g.viewport.scrollTop=a)},onDragScroll:a=>{g.viewport&&(g.viewport.scrollTop=n(a))}}):null}),R=c.forwardRef((a,d)=>{let{sizes:e,onSizesChange:f,...g}=a,h=H(L,a.__scopeScrollArea),[i,j]=c.useState(),k=c.useRef(null),l=(0,x.useComposedRefs)(d,k,h.onScrollbarXChange);return c.useEffect(()=>{k.current&&j(getComputedStyle(k.current))},[k]),(0,b.jsx)(V,{"data-orientation":"horizontal",...g,ref:l,sizes:e,style:{bottom:0,left:"rtl"===h.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===h.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ac(e)+"px",...a.style},onThumbPointerDown:b=>a.onThumbPointerDown(b.x),onDragScroll:b=>a.onDragScroll(b.x),onWheelScroll:(b,c)=>{if(h.viewport){var d,e;let f=h.viewport.scrollLeft+b.deltaX;a.onWheelScroll(f),d=f,e=c,d>0&&d<e&&b.preventDefault()}},onResize:()=>{k.current&&h.viewport&&i&&f({content:h.viewport.scrollWidth,viewport:h.viewport.offsetWidth,scrollbar:{size:k.current.clientWidth,paddingStart:aa(i.paddingLeft),paddingEnd:aa(i.paddingRight)}})}})}),S=c.forwardRef((a,d)=>{let{sizes:e,onSizesChange:f,...g}=a,h=H(L,a.__scopeScrollArea),[i,j]=c.useState(),k=c.useRef(null),l=(0,x.useComposedRefs)(d,k,h.onScrollbarYChange);return c.useEffect(()=>{k.current&&j(getComputedStyle(k.current))},[k]),(0,b.jsx)(V,{"data-orientation":"vertical",...g,ref:l,sizes:e,style:{top:0,right:"ltr"===h.dir?0:void 0,left:"rtl"===h.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ac(e)+"px",...a.style},onThumbPointerDown:b=>a.onThumbPointerDown(b.y),onDragScroll:b=>a.onDragScroll(b.y),onWheelScroll:(b,c)=>{if(h.viewport){var d,e;let f=h.viewport.scrollTop+b.deltaY;a.onWheelScroll(f),d=f,e=c,d>0&&d<e&&b.preventDefault()}},onResize:()=>{k.current&&h.viewport&&i&&f({content:h.viewport.scrollHeight,viewport:h.viewport.offsetHeight,scrollbar:{size:k.current.clientHeight,paddingStart:aa(i.paddingTop),paddingEnd:aa(i.paddingBottom)}})}})}),[T,U]=E(L),V=c.forwardRef((a,d)=>{let{__scopeScrollArea:e,sizes:f,hasThumb:g,onThumbChange:h,onThumbPointerUp:i,onThumbPointerDown:j,onThumbPositionChange:k,onDragScroll:l,onWheelScroll:m,onResize:n,...o}=a,p=H(L,e),[q,r]=c.useState(null),s=(0,x.useComposedRefs)(d,a=>r(a)),t=c.useRef(null),v=c.useRef(""),w=p.viewport,z=f.content-f.viewport,A=(0,y.useCallbackRef)(m),B=(0,y.useCallbackRef)(k),D=ag(n,10);function E(a){t.current&&l({x:a.clientX-t.current.left,y:a.clientY-t.current.top})}return c.useEffect(()=>{let a=a=>{let b=a.target;q?.contains(b)&&A(a,z)};return document.addEventListener("wheel",a,{passive:!1}),()=>document.removeEventListener("wheel",a,{passive:!1})},[w,q,z,A]),c.useEffect(B,[f,B]),ah(q,D),ah(p.content,D),(0,b.jsx)(T,{scope:e,scrollbar:q,hasThumb:g,onThumbChange:(0,y.useCallbackRef)(h),onThumbPointerUp:(0,y.useCallbackRef)(i),onThumbPositionChange:B,onThumbPointerDown:(0,y.useCallbackRef)(j),children:(0,b.jsx)(u.Primitive.div,{...o,ref:s,style:{position:"absolute",...o.style},onPointerDown:(0,C.composeEventHandlers)(a.onPointerDown,a=>{0===a.button&&(a.target.setPointerCapture(a.pointerId),t.current=q.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(a))}),onPointerMove:(0,C.composeEventHandlers)(a.onPointerMove,E),onPointerUp:(0,C.composeEventHandlers)(a.onPointerUp,a=>{let b=a.target;b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),t.current=null})})})}),W="ScrollAreaThumb",X=c.forwardRef((a,c)=>{let{forceMount:d,...e}=a,f=U(W,a.__scopeScrollArea);return(0,b.jsx)(v.Presence,{present:d||f.hasThumb,children:(0,b.jsx)(Y,{ref:c,...e})})}),Y=c.forwardRef((a,d)=>{let{__scopeScrollArea:e,style:f,...g}=a,h=H(W,e),i=U(W,e),{onThumbPositionChange:j}=i,k=(0,x.useComposedRefs)(d,a=>i.onThumbChange(a)),l=c.useRef(void 0),m=ag(()=>{l.current&&(l.current(),l.current=void 0)},100);return c.useEffect(()=>{let a=h.viewport;if(a){let b=()=>{m(),l.current||(l.current=af(a,j),j())};return j(),a.addEventListener("scroll",b),()=>a.removeEventListener("scroll",b)}},[h.viewport,m,j]),(0,b.jsx)(u.Primitive.div,{"data-state":i.hasThumb?"visible":"hidden",...g,ref:k,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...f},onPointerDownCapture:(0,C.composeEventHandlers)(a.onPointerDownCapture,a=>{let b=a.target.getBoundingClientRect(),c=a.clientX-b.left,d=a.clientY-b.top;i.onThumbPointerDown({x:c,y:d})}),onPointerUp:(0,C.composeEventHandlers)(a.onPointerUp,i.onThumbPointerUp)})});X.displayName=W;var Z="ScrollAreaCorner",$=c.forwardRef((a,c)=>{let d=H(Z,a.__scopeScrollArea),e=!!(d.scrollbarX&&d.scrollbarY);return"scroll"!==d.type&&e?(0,b.jsx)(_,{...a,ref:c}):null});$.displayName=Z;var _=c.forwardRef((a,d)=>{let{__scopeScrollArea:e,...f}=a,g=H(Z,e),[h,i]=c.useState(0),[j,k]=c.useState(0),l=!!(h&&j);return ah(g.scrollbarX,()=>{let a=g.scrollbarX?.offsetHeight||0;g.onCornerHeightChange(a),k(a)}),ah(g.scrollbarY,()=>{let a=g.scrollbarY?.offsetWidth||0;g.onCornerWidthChange(a),i(a)}),l?(0,b.jsx)(u.Primitive.div,{...f,ref:d,style:{width:h,height:j,position:"absolute",right:"ltr"===g.dir?0:void 0,left:"rtl"===g.dir?0:void 0,bottom:0,...a.style}}):null});function aa(a){return a?parseInt(a,10):0}function ab(a,b){let c=a/b;return isNaN(c)?0:c}function ac(a){let b=ab(a.viewport,a.content),c=a.scrollbar.paddingStart+a.scrollbar.paddingEnd;return Math.max((a.scrollbar.size-c)*b,18)}function ad(a,b,c="ltr"){let d=ac(b),e=b.scrollbar.paddingStart+b.scrollbar.paddingEnd,f=b.scrollbar.size-e,g=b.content-b.viewport,h=(0,B.clamp)(a,"ltr"===c?[0,g]:[-1*g,0]);return ae([0,g],[0,f-d])(h)}function ae(a,b){return c=>{if(a[0]===a[1]||b[0]===b[1])return b[0];let d=(b[1]-b[0])/(a[1]-a[0]);return b[0]+d*(c-a[0])}}var af=(a,b=()=>{})=>{let c={left:a.scrollLeft,top:a.scrollTop},d=0;return!function e(){let f={left:a.scrollLeft,top:a.scrollTop},g=c.left!==f.left,h=c.top!==f.top;(g||h)&&b(),c=f,d=window.requestAnimationFrame(e)}(),()=>window.cancelAnimationFrame(d)};function ag(a,b){let d=(0,y.useCallbackRef)(a),e=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(e.current),[]),c.useCallback(()=>{window.clearTimeout(e.current),e.current=window.setTimeout(d,b)},[d,b])}function ah(a,b){let c=(0,y.useCallbackRef)(b);(0,A.useLayoutEffect)(()=>{let b=0;if(a){let d=new ResizeObserver(()=>{cancelAnimationFrame(b),b=window.requestAnimationFrame(c)});return d.observe(a),()=>{window.cancelAnimationFrame(b),d.unobserve(a)}}},[a,c])}var ai=a.i(74192);let aj=c.forwardRef(({className:a,children:c,...d},e)=>(0,b.jsxs)(I,{ref:e,className:(0,ai.cn)("relative overflow-hidden",a),...d,children:[(0,b.jsx)(K,{className:"h-full w-full rounded-[inherit]",children:c}),(0,b.jsx)(ak,{}),(0,b.jsx)($,{})]}));aj.displayName=I.displayName;let ak=c.forwardRef(({className:a,orientation:c="vertical",...d},e)=>(0,b.jsx)(M,{ref:e,orientation:c,className:(0,ai.cn)("flex touch-none select-none transition-colors","vertical"===c&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===c&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...d,children:(0,b.jsx)(X,{className:"relative flex-1 rounded-full bg-border"})}));ak.displayName=M.displayName;let al={scheduled:"bg-blue-100 border-blue-300 text-blue-800 hover:bg-blue-200",confirmed:"bg-green-100 border-green-300 text-green-800 hover:bg-green-200",completed:"bg-gray-100 border-gray-300 text-gray-800 hover:bg-gray-200",cancelled:"bg-red-100 border-red-300 text-red-800 hover:bg-red-200",no_show:"bg-orange-100 border-orange-300 text-orange-800 hover:bg-orange-200"};function am({appointments:a,employees:c,currentDate:d,onAppointmentClick:e}){let g=a.filter(a=>{let b=new Date(a.start_time);return b.getDate()===d.getDate()&&b.getMonth()===d.getMonth()&&b.getFullYear()===d.getFullYear()}),h=[...c,{id:"unassigned",first_name:"Nicht",last_name:"zugewiesen",role:"",specialties:[],is_active:!0,work_schedule:{}}],i=Array.from({length:13},(a,b)=>b+8);return(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-0",children:(0,b.jsxs)(aj,{className:"w-full",children:[(0,b.jsxs)("div",{className:"flex min-w-max",children:[(0,b.jsxs)("div",{className:"w-20 flex-shrink-0 border-r bg-muted/30 sticky left-0 z-10",children:[(0,b.jsx)("div",{className:"h-16 border-b flex items-center justify-center text-sm font-medium text-muted-foreground bg-muted/50",children:"Zeit"}),i.map(a=>(0,b.jsxs)("div",{className:"h-20 border-b px-2 py-1 text-xs text-muted-foreground bg-muted/30",children:[a,":00"]},a))]}),h.map(a=>{var c,f;let h,j="unassigned"===(c=a.id)?g.filter(a=>!a.employee_id):g.filter(a=>a.employee_id===c),k="unassigned"!==a.id?(f=a,h=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][d.getDay()],f.work_schedule?.[h]||null):null,o="unassigned"===a.id||null!==k;return(0,b.jsxs)("div",{className:"flex-shrink-0 border-r",style:{width:"200px"},children:[(0,b.jsx)("div",{className:`h-16 border-b px-3 py-2 ${"unassigned"===a.id?"bg-muted/50":"bg-primary/5"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.UserCircle,{className:`w-8 h-8 ${"unassigned"===a.id?"text-muted-foreground":"text-primary"}`}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-sm",children:[a.first_name," ",a.last_name]}),k&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[k.start," - ",k.end]}),"unassigned"!==a.id&&!k&&(0,b.jsx)("p",{className:"text-xs text-orange-600",children:"Frei"})]})]})}),(0,b.jsxs)("div",{className:"relative",style:{height:`${80*i.length}px`},children:[i.map((a,c)=>(0,b.jsx)("div",{className:`absolute w-full border-b ${!o?"bg-muted/20":""}`,style:{top:`${80*c}px`,height:"80px"}},a)),k&&(0,b.jsx)("div",{className:"absolute w-full bg-primary/5 border-l-2 border-primary/20",style:{top:`${(parseInt(k.start.split(":")[0])-8)*80}px`,height:`${(parseInt(k.end.split(":")[0])-parseInt(k.start.split(":")[0]))*80}px`}}),j.map(a=>{var c,d;let f,g,h;return(0,b.jsxs)("div",{onClick:()=>e?.(a),className:`absolute rounded-lg border-l-4 p-2 shadow-sm cursor-pointer transition-all overflow-hidden ${al[a.status]||al.scheduled}`,style:{top:`${(g=(f=new Date(a.start_time)).getHours(),((g-8)*60+f.getMinutes())/60*80)}px`,minHeight:`${Math.max((c=a.start_time,d=a.end_time,h=new Date(c),(new Date(d).getTime()-h.getTime())/1e3/60/60*80),60)}px`,left:"4px",right:"4px",width:"calc(100% - 8px)"},children:[(0,b.jsxs)("div",{className:"font-semibold text-xs flex items-center gap-1",children:[(0,b.jsx)(m.Clock,{className:"w-3 h-3"}),new Date(a.start_time).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 mt-0.5",children:[(0,b.jsx)(l.User,{className:"w-3 h-3"}),(0,b.jsxs)("span",{className:"text-xs truncate",children:[a.customers.first_name," ",a.customers.last_name]})]}),(0,b.jsx)("div",{className:"text-xs mt-0.5 opacity-75 truncate",children:a.services.name}),"confirmed"===a.customer_response&&(0,b.jsx)("div",{className:"text-xs mt-0.5 font-semibold",children:"✓"})]},a.id)})]})]},a.id)})]}),(0,b.jsx)(ak,{orientation:"horizontal"})]})})})}var an=a.i(61224);function ao({initialAppointments:a,customers:m,services:n,employees:o}){let q=(0,d.useRouter)(),[s,u]=(0,c.useState)("day"),[v,w]=(0,c.useState)(new Date),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)("all"),D=(0,c.useMemo)(()=>"all"===B?a:"unassigned"===B?a.filter(a=>!a.employee_id):a.filter(a=>a.employee_id===B),[a,B]),E=a=>{y(a),A(!0)};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(f.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>{let a=new Date(v);"day"===s?a.setDate(a.getDate()-1):"week"===s?a.setDate(a.getDate()-7):a.setMonth(a.getMonth()-1),w(a)},children:(0,b.jsx)(h,{className:"w-4 h-4"})}),(0,b.jsx)("div",{className:"min-w-[200px] text-center",children:(0,b.jsx)("h3",{className:"font-semibold text-sm sm:text-base",children:(()=>{if("day"===s)return v.toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if("week"!==s)return v.toLocaleDateString("de-DE",{year:"numeric",month:"long"});{let a=new Date(v);a.setDate(v.getDate()-v.getDay()+1);let b=new Date(a);return b.setDate(a.getDate()+6),`${a.toLocaleDateString("de-DE",{day:"numeric",month:"short"})} - ${b.toLocaleDateString("de-DE",{day:"numeric",month:"short",year:"numeric"})}`}})()})}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>{let a=new Date(v);"day"===s?a.setDate(a.getDate()+1):"week"===s?a.setDate(a.getDate()+7):a.setMonth(a.getMonth()+1),w(a)},children:(0,b.jsx)(i.ChevronRight,{className:"w-4 h-4"})}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>{w(new Date)},children:[(0,b.jsx)(j.Calendar,{className:"w-4 h-4 sm:mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Heute"})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:["resource"!==s&&(0,b.jsxs)(g.Select,{value:B,onValueChange:C,children:[(0,b.jsxs)(g.SelectTrigger,{className:"w-[180px]",children:[(0,b.jsx)(l.User,{className:"w-4 h-4 mr-2"}),(0,b.jsx)(g.SelectValue,{placeholder:"Mitarbeiter"})]}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"Alle Mitarbeiter"}),(0,b.jsx)(g.SelectItem,{value:"unassigned",children:"Nicht zugewiesen"}),o.map(a=>(0,b.jsxs)(g.SelectItem,{value:a.id,children:[a.first_name," ",a.last_name]},a.id))]})]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(e.Button,{variant:"day"===s?"default":"outline",size:"sm",onClick:()=>u("day"),children:"Tag"}),(0,b.jsx)(e.Button,{variant:"week"===s?"default":"outline",size:"sm",onClick:()=>u("week"),children:"Woche"}),(0,b.jsx)(e.Button,{variant:"month"===s?"default":"outline",size:"sm",onClick:()=>u("month"),children:"Monat"}),(0,b.jsx)(e.Button,{variant:"resource"===s?"default":"outline",size:"sm",onClick:()=>u("resource"),title:"Mitarbeiter-Spalten",children:(0,b.jsx)(k.Users,{className:"w-4 h-4"})})]})]})]})}),"day"===s&&(0,b.jsx)(p,{appointments:D,currentDate:v,onAppointmentClick:E}),"week"===s&&(0,b.jsx)(r,{appointments:D,currentDate:v,onAppointmentClick:E}),"month"===s&&(0,b.jsx)(t,{appointments:D,currentDate:v}),"resource"===s&&(0,b.jsx)(am,{appointments:a,employees:o,currentDate:v,onAppointmentClick:E}),(0,b.jsx)(an.AppointmentDialog,{open:z,onOpenChange:()=>{A(!1),y(null),q.refresh()},appointment:x,customers:m,services:n,employees:o,existingAppointments:a.map(a=>({id:a.id,employee_id:a.employee_id,start_time:a.start_time,end_time:a.end_time,status:a.status}))})]})}a.s(["CalendarView",()=>ao],95555)}];

//# sourceMappingURL=apps_web_app_dashboard_calendar_calendar-view_tsx_57c7dde2._.js.map