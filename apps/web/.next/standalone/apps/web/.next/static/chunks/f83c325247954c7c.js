(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39257,e=>{"use strict";let t=(0,e.i(49623).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],39257)},54267,e=>{"use strict";let t=(0,e.i(49623).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],54267)},99688,e=>{"use strict";let t=(0,e.i(49623).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],99688)},3812,e=>{"use strict";let t=(0,e.i(49623).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);e.s(["MessageCircle",()=>t],3812)},73183,e=>{"use strict";let t=(0,e.i(49623).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>t],73183)},31305,e=>{"use strict";let t=(0,e.i(49623).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],31305)},13862,66640,e=>{"use strict";let t=(0,e.i(49623).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["default",()=>t],66640),e.s(["Clock",()=>t],13862)},66691,94237,e=>{"use strict";var t=e.i(80506),r=e.i(778),s=e.i(7284);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.clsx,i=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:l}=t,c=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],s=null==l?void 0:l[e];if(null===t)return null;let n=a(t)||a(s);return i[e][n]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,c,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)};e.s(["cva",0,i],94237);var l=e.i(52236);let c=i("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...n},i)=>(0,t.jsx)("button",{className:(0,l.cn)(c({variant:r,size:s,className:e})),ref:i,...n}));d.displayName="Button",e.s(["Button",()=>d],66691)},70317,e=>{"use strict";var t=e.i(80506),r=e.i(778),s=e.i(52236);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));a.displayName="Card";let n=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>c,"CardDescription",()=>l,"CardHeader",()=>n,"CardTitle",()=>i])},52160,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={callServer:function(){return n.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let n=e.r(40558),i=e.r(31316),l=e.r(30278)},23621,e=>{"use strict";var t=e.i(80506),r=e.i(94237),s=e.i(52236);let a=(0,r.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...n}){return(0,t.jsx)("div",{className:(0,s.cn)(a({variant:r}),e),...n})}e.s(["Badge",()=>n])},98048,e=>{"use strict";function t(e,t){let r=e.replace(/[\s\-\(\)]/g,""),s=encodeURIComponent(t);return`https://wa.me/${r}?text=${s}`}function r(e){return`Hallo ${e.customerName}! ðŸ‘‹

Dies ist eine Erinnerung an Ihren Termin bei ${e.clinicName}:

ðŸ“… Datum: ${e.date}
ðŸ• Uhrzeit: ${e.time}
ðŸ’† Behandlung: ${e.serviceName}

Wir freuen uns auf Sie!

Bei Fragen oder Termin\xe4nderungen melden Sie sich gerne.`}function s(e,s,a,n,i,l){return t(e,r({customerName:s,date:a,time:n,serviceName:i,clinicName:l}))}function a(e,r,s,a,n,i,l){var c;let d;return t(e,(c={customerName:r,date:s,time:a,serviceName:n,clinicName:i,confirmationUrl:l},d=`Hallo ${c.customerName}! ðŸ‘‹

Termin-Best\xe4tigung bei ${c.clinicName}:

ðŸ“… Datum: ${c.date}
ðŸ• Uhrzeit: ${c.time}
ðŸ’† Behandlung: ${c.serviceName}`,c.confirmationUrl?`${d}

ðŸ”— Bitte best\xe4tigen Sie Ihren Termin:
${c.confirmationUrl}

Wir freuen uns auf Sie!`:`${d}

Bis bald!`))}function n(e,r,s){var a;return t(e,(a={customerName:r,clinicName:s},`Hallo ${a.customerName}! ðŸ‘‹

Hier ist ${a.clinicName}. `))}e.s(["generateWhatsAppLink",()=>t,"getAppointmentConfirmationLink",()=>a,"getAppointmentReminderLink",()=>s,"getAppointmentReminderMessage",()=>r,"getCustomerContactLink",()=>n])},94709,e=>{"use strict";let t=(0,e.i(49623).default)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);e.s(["UserCircle",()=>t],94709)},64433,e=>{"use strict";var t=e.i(80506),r=e.i(778),s=e.i(66691),a=e.i(70317),n=e.i(23621),i=e.i(3812),l=e.i(13862),c=e.i(99688),d=e.i(54267);let o=(0,e.i(49623).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var m=e.i(73183),u=e.i(31305),f=e.i(39257),x=e.i(94709),h=e.i(52160);let g=(0,h.createServerReference)("40fac9818d250a2754794c3fb55beaf18ccf7085a0",h.callServer,void 0,h.findSourceMapURL,"markReminderSent"),p=(0,h.createServerReference)("407a1e933d7f007ae1a21a263462f272ea6055ee79",h.callServer,void 0,h.findSourceMapURL,"resetReminderStatus");var v=e.i(98048);function y({appointments:e,tenantName:h}){let[y,N]=(0,r.useState)(new Set),j=e=>new Date(e).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),b=async e=>{if(!e.customer.phone)return;let t=(0,v.getAppointmentReminderMessage)({customerName:`${e.customer.first_name} ${e.customer.last_name}`,date:new Date(e.start_time).toLocaleDateString("de-DE",{weekday:"long",day:"numeric",month:"long"}),time:j(e.start_time),serviceName:e.service.name,clinicName:h}),r=(0,v.generateWhatsAppLink)(e.customer.phone,t);window.open(r,"_blank"),N(t=>new Set(t).add(e.id)),await g(e.id),N(t=>{let r=new Set(t);return r.delete(e.id),r})},w=async e=>{N(t=>new Set(t).add(e)),await p(e),N(t=>{let r=new Set(t);return r.delete(e),r})};if(0===e.length)return(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"py-12 text-center text-muted-foreground",children:[(0,t.jsx)(l.Clock,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"Keine Termine fÃ¼r morgen"}),(0,t.jsx)("p",{className:"text-sm",children:"Es gibt keine anstehenden Termine, fÃ¼r die Erinnerungen gesendet werden mÃ¼ssen."})]})});let k=e.filter(e=>!e.reminder_sent_at),C=e.filter(e=>e.reminder_sent_at);return(0,t.jsxs)("div",{className:"space-y-6",children:[k.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(l.Clock,{className:"w-5 h-5 text-orange-500"}),"Ausstehende Erinnerungen (",k.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:k.map(e=>(0,t.jsx)(a.Card,{className:"hover:shadow-md transition-shadow",children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,t.jsx)(l.Clock,{className:"w-4 h-4 text-primary"}),j(e.start_time)]}),(0,t.jsx)(n.Badge,{variant:"outline",children:"confirmed"===e.status?"BestÃ¤tigt":"Geplant"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(c.User,{className:"w-4 h-4"}),(0,t.jsxs)("span",{className:"font-medium text-foreground",children:[e.customer.first_name," ",e.customer.last_name]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(f.Sparkles,{className:"w-4 h-4"}),e.service.name," (",e.service.duration_minutes," Min.)"]}),e.employee&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(x.UserCircle,{className:"w-4 h-4"}),e.employee.first_name," ",e.employee.last_name]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[e.customer.phone?(0,t.jsxs)("span",{className:"flex items-center gap-1 text-green-600",children:[(0,t.jsx)(m.Phone,{className:"w-3 h-3"}),e.customer.phone]}):(0,t.jsxs)("span",{className:"flex items-center gap-1 text-red-500",children:[(0,t.jsx)(m.Phone,{className:"w-3 h-3"}),"Keine Telefonnummer"]}),e.customer.email&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,t.jsx)(u.Mail,{className:"w-3 h-3"}),e.customer.email]})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)(s.Button,{onClick:()=>b(e),disabled:!e.customer.phone||y.has(e.id),className:"bg-green-600 hover:bg-green-700",children:[y.has(e.id)?(0,t.jsx)(o,{className:"w-4 h-4 mr-2 animate-spin"}):(0,t.jsx)(i.MessageCircle,{className:"w-4 h-4 mr-2"}),"WhatsApp senden"]})})]})})},e.id))})]}),C.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(d.Check,{className:"w-5 h-5 text-green-500"}),"Bereits gesendet (",C.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:C.map(e=>(0,t.jsx)(a.Card,{className:"bg-green-50/50 border-green-200",children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,t.jsx)(l.Clock,{className:"w-4 h-4 text-green-600"}),j(e.start_time)]}),(0,t.jsxs)(n.Badge,{className:"bg-green-100 text-green-800 border-green-300",children:[(0,t.jsx)(d.Check,{className:"w-3 h-3 mr-1"}),"Gesendet"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.User,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsxs)("span",{className:"font-medium",children:[e.customer.first_name," ",e.customer.last_name]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(f.Sparkles,{className:"w-4 h-4"}),e.service.name]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Gesendet: ",new Date(e.reminder_sent_at).toLocaleString("de-DE")]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:()=>w(e.id),disabled:y.has(e.id),children:[y.has(e.id)?(0,t.jsx)(o,{className:"w-4 h-4 mr-2 animate-spin"}):(0,t.jsx)(o,{className:"w-4 h-4 mr-2"}),"Erneut senden"]})})]})})},e.id))})]})]})}e.s(["RemindersList",()=>y],64433)}]);