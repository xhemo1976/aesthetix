(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71628,e=>{"use strict";let t=(0,e.i(49623).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],71628)},58294,(e,t,r)=>{t.exports=e.r(56984)},66691,94237,e=>{"use strict";var t=e.i(80506),r=e.i(778),n=e.i(7284);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=n.clsx,a=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:l}=t,o=Object.keys(a).map(e=>{let t=null==r?void 0:r[e],n=null==l?void 0:l[e];if(null===t)return null;let i=s(t)||s(n);return a[e][i]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return i(e,o,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)};e.s(["cva",0,a],94237);var l=e.i(52236);let o=a("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:r,size:n,asChild:s=!1,...i},a)=>(0,t.jsx)("button",{className:(0,l.cn)(o({variant:r,size:n,className:e})),ref:a,...i}));d.displayName="Button",e.s(["Button",()=>d],66691)},70317,e=>{"use strict";var t=e.i(80506),r=e.i(778),n=e.i(52236);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));s.displayName="Card";let i=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let a=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...r}));a.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>a])},24911,e=>{"use strict";var t=e.i(80506),r=e.i(778),n=e.i(52236);let s=r.forwardRef(({className:e,type:r,...s},i)=>(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));s.displayName="Input",e.s(["Input",()=>s])},25466,e=>{"use strict";var t=e.i(80506),r=e.i(778),n=e.i(52236);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("label",{ref:s,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r}));s.displayName="Label",e.s(["Label",()=>s])},3812,e=>{"use strict";let t=(0,e.i(49623).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);e.s(["MessageCircle",()=>t],3812)},73183,e=>{"use strict";let t=(0,e.i(49623).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>t],73183)},31305,e=>{"use strict";let t=(0,e.i(49623).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],31305)},98048,e=>{"use strict";function t(e,t){let r=e.replace(/[\s\-\(\)]/g,""),n=encodeURIComponent(t);return`https://wa.me/${r}?text=${n}`}function r(e){return`Hallo ${e.customerName}! ðŸ‘‹

Dies ist eine Erinnerung an Ihren Termin bei ${e.clinicName}:

ðŸ“… Datum: ${e.date}
ðŸ• Uhrzeit: ${e.time}
ðŸ’† Behandlung: ${e.serviceName}

Wir freuen uns auf Sie!

Bei Fragen oder Termin\xe4nderungen melden Sie sich gerne.`}function n(e,n,s,i,a,l){return t(e,r({customerName:n,date:s,time:i,serviceName:a,clinicName:l}))}function s(e,r,n,s,i,a,l){var o;let d;return t(e,(o={customerName:r,date:n,time:s,serviceName:i,clinicName:a,confirmationUrl:l},d=`Hallo ${o.customerName}! ðŸ‘‹

Termin-Best\xe4tigung bei ${o.clinicName}:

ðŸ“… Datum: ${o.date}
ðŸ• Uhrzeit: ${o.time}
ðŸ’† Behandlung: ${o.serviceName}`,o.confirmationUrl?`${d}

ðŸ”— Bitte best\xe4tigen Sie Ihren Termin:
${o.confirmationUrl}

Wir freuen uns auf Sie!`:`${d}

Bis bald!`))}function i(e,r,n){var s;return t(e,(s={customerName:r,clinicName:n},`Hallo ${s.customerName}! ðŸ‘‹

Hier ist ${s.clinicName}. `))}e.s(["generateWhatsAppLink",()=>t,"getAppointmentConfirmationLink",()=>s,"getAppointmentReminderLink",()=>n,"getAppointmentReminderMessage",()=>r,"getCustomerContactLink",()=>i])},52160,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={callServer:function(){return i.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i=e.r(40558),a=e.r(31316),l=e.r(30278)},28781,e=>{"use strict";let t=(0,e.i(49623).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],28781)},44977,e=>{"use strict";var t=e.i(778);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let n=!1,s=e.map(e=>{let s=r(e,t);return n||"function"!=typeof s||(n=!0),s});if(n)return()=>{for(let t=0;t<s.length;t++){let n=s[t];"function"==typeof n?n():r(e[t],null)}}}}function s(...e){return t.useCallback(n(...e),e)}e.s(["composeRefs",()=>n,"useComposedRefs",()=>s])},91967,56207,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:n=!0}={}){return function(t){if(e?.(t),!1===n||!t.defaultPrevented)return r?.(t)}}"undefined"!=typeof window&&window.document&&window.document.createElement,e.s(["composeEventHandlers",()=>t],91967);var r=e.i(778),n=e.i(80506);function s(e,t){let s=r.createContext(t),i=e=>{let{children:t,...i}=e,a=r.useMemo(()=>i,Object.values(i));return(0,n.jsx)(s.Provider,{value:a,children:t})};return i.displayName=e+"Provider",[i,function(n){let i=r.useContext(s);if(i)return i;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function i(e,t=[]){let s=[],a=()=>{let t=s.map(e=>r.createContext(e));return function(n){let s=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:s}}),[n,s])}};return a.scopeName=e,[function(t,i){let a=r.createContext(i),l=s.length;s=[...s,i];let o=t=>{let{scope:s,children:i,...o}=t,d=s?.[e]?.[l]||a,c=r.useMemo(()=>o,Object.values(o));return(0,n.jsx)(d.Provider,{value:c,children:i})};return o.displayName=t+"Provider",[o,function(n,s){let o=s?.[e]?.[l]||a,d=r.useContext(o);if(d)return d;if(void 0!==i)return i;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=n.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}(a,...t)]}e.s(["createContext",()=>s,"createContextScope",()=>i],56207)},61194,27864,e=>{"use strict";var t=e.i(778),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r],27864);var n=t[" useId ".trim().toString()]||(()=>void 0),s=0;function i(e){let[i,a]=t.useState(n());return r(()=>{e||a(e=>e??String(s++))},[e]),e||(i?`radix-${i}`:"")}e.s(["useId",()=>i],61194)},34643,e=>{"use strict";var t=e.i(778),r=e.i(27864);t[" useEffectEvent ".trim().toString()],t[" useInsertionEffect ".trim().toString()];var n=t[" useInsertionEffect ".trim().toString()]||r.useLayoutEffect;function s({prop:e,defaultProp:r,onChange:s=()=>{},caller:i}){let[a,l,o]=function({defaultProp:e,onChange:r}){let[s,i]=t.useState(e),a=t.useRef(s),l=t.useRef(r);return n(()=>{l.current=r},[r]),t.useEffect(()=>{a.current!==s&&(l.current?.(s),a.current=s)},[s,a]),[s,i,l]}({defaultProp:r,onChange:s}),d=void 0!==e,c=d?e:a;{let r=t.useRef(void 0!==e);t.useEffect(()=>{let e=r.current;if(e!==d){let t=d?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}r.current=d},[d,i])}return[c,t.useCallback(t=>{if(d){let r="function"==typeof t?t(e):t;r!==e&&o.current?.(r)}else l(t)},[d,e,l,o])]}Symbol("RADIX:SYNC_STATE"),e.s(["useControllableState",()=>s],34643)},93074,e=>{"use strict";var t=e.i(778),r=e.i(44977),n=e.i(80506);function s(e){var s;let i,l=(s=e,(i=t.forwardRef((e,n)=>{let{children:s,...i}=e;if(t.isValidElement(s)){var a;let e,l,o=(a=s,(l=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(l=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),d=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(i,s.props);return s.type!==t.Fragment&&(d.ref=n?(0,r.composeRefs)(n,o):o),t.cloneElement(s,d)}return t.Children.count(s)>1?t.Children.only(null):null})).displayName=`${s}.SlotClone`,i),o=t.forwardRef((e,r)=>{let{children:s,...i}=e,o=t.Children.toArray(s),d=o.find(a);if(d){let e=d.props.children,s=o.map(r=>r!==d?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,n.jsx)(l,{...i,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,s):null})}return(0,n.jsx)(l,{...i,ref:r,children:s})});return o.displayName=`${e}.Slot`,o}var i=Symbol("radix.slottable");function a(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}e.s(["createSlot",()=>s])},56872,52960,e=>{"use strict";var t=e.i(778),r=e.i(50919),n=e.i(93074),s=e.i(80506),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let i=(0,n.createSlot)(`Primitive.${r}`),a=t.forwardRef((e,t)=>{let{asChild:n,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(n?i:r,{...a,ref:t})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function a(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}function l(e){let r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>(...e)=>r.current?.(...e),[])}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>a],56872),e.s(["useCallbackRef",()=>l],52960)},53747,e=>{"use strict";var t=e.i(778),r=e.i(44977),n=e.i(27864),s=e=>{var s;let a,l,{present:o,children:d}=e,c=function(e){var r,s;let[a,l]=t.useState(),o=t.useRef(null),d=t.useRef(e),c=t.useRef("none"),[u,m]=(r=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>s[e][t]??e,r));return t.useEffect(()=>{let e=i(o.current);c.current="mounted"===u?e:"none"},[u]),(0,n.useLayoutEffect)(()=>{let t=o.current,r=d.current;if(r!==e){let n=c.current,s=i(t);e?m("MOUNT"):"none"===s||t?.display==="none"?m("UNMOUNT"):r&&n!==s?m("ANIMATION_OUT"):m("UNMOUNT"),d.current=e}},[e,m]),(0,n.useLayoutEffect)(()=>{if(a){let e,t=a.ownerDocument.defaultView??window,r=r=>{let n=i(o.current).includes(CSS.escape(r.animationName));if(r.target===a&&n&&(m("ANIMATION_END"),!d.current)){let r=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=r)})}},n=e=>{e.target===a&&(c.current=i(o.current))};return a.addEventListener("animationstart",n),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",n),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}m("ANIMATION_END")},[a,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{o.current=e?getComputedStyle(e):null,l(e)},[])}}(o),u="function"==typeof d?d({present:c.isPresent}):t.Children.only(d),m=(0,r.useComposedRefs)(c.ref,(s=u,(l=(a=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?s.ref:(l=(a=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?s.props.ref:s.props.ref||s.ref));return"function"==typeof d||c.isPresent?t.cloneElement(u,{ref:m}):null};function i(e){return e?.animationName||"none"}s.displayName="Presence",e.s(["Presence",()=>s])},43293,e=>{"use strict";let t=(0,e.i(49623).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],43293)},14136,e=>{"use strict";let t=(0,e.i(49623).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],14136)},95953,e=>{"use strict";let t=(0,e.i(49623).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],95953)},3461,e=>{"use strict";var t=e.i(80506),r=e.i(778),n=e.i(8331),s=e.i(66691),i=e.i(70317),a=e.i(43293),l=e.i(95953),o=e.i(14136),d=e.i(31305),c=e.i(73183),u=e.i(71628),m=e.i(3812);let f=(0,e.i(49623).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var p=e.i(82879),h=e.i(24911),x=e.i(25466),v=e.i(52160);let g=(0,v.createServerReference)("400d346cab7161c17ec93d5519b52beca6ecac9269",v.callServer,void 0,v.findSourceMapURL,"createCustomer"),b=(0,v.createServerReference)("60cdf908f1b0690e1642847a4cb020fde78f95ad2f",v.callServer,void 0,v.findSourceMapURL,"updateCustomer");var y=e.i(58294);function N({open:e,onOpenChange:n,customer:i}){let a=(0,y.useRouter)(),[l,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(null),u=!!i;async function m(e){o(!0),c(null);let t=u?await b(i.id,e):await g(e);t.error?(c(t.error),o(!1)):(o(!1),n(!1),a.refresh())}return(0,t.jsx)(p.Dialog,{open:e,onOpenChange:n,children:(0,t.jsxs)(p.DialogContent,{className:"max-w-2xl",children:[(0,t.jsxs)(p.DialogHeader,{children:[(0,t.jsx)(p.DialogTitle,{children:u?"Kunde bearbeiten":"Neuer Kunde"}),(0,t.jsx)(p.DialogDescription,{children:u?"Aktualisiere die Kundendaten":"FÃ¼ge einen neuen Kunden hinzu"})]}),(0,t.jsxs)("form",{action:m,className:"space-y-4",children:[d&&(0,t.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:(0,t.jsx)("p",{className:"text-sm text-destructive",children:d})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"first_name",children:"Vorname *"}),(0,t.jsx)(h.Input,{id:"first_name",name:"first_name",placeholder:"Max",defaultValue:i?.first_name||"",required:!0,disabled:l})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"last_name",children:"Nachname *"}),(0,t.jsx)(h.Input,{id:"last_name",name:"last_name",placeholder:"Mustermann",defaultValue:i?.last_name||"",required:!0,disabled:l})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"email",children:"E-Mail"}),(0,t.jsx)(h.Input,{id:"email",name:"email",type:"email",placeholder:"max@beispiel.de",defaultValue:i?.email||"",disabled:l})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"phone",children:"Telefon"}),(0,t.jsx)(h.Input,{id:"phone",name:"phone",type:"tel",placeholder:"+49 123 456789",defaultValue:i?.phone||"",disabled:l})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"date_of_birth",children:"Geburtsdatum"}),(0,t.jsx)(h.Input,{id:"date_of_birth",name:"date_of_birth",type:"date",defaultValue:i?.date_of_birth||"",disabled:l})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"notes",children:"Notizen"}),(0,t.jsx)("textarea",{id:"notes",name:"notes",placeholder:"Besondere WÃ¼nsche, Allergien, etc...",defaultValue:i?.notes||"",disabled:l,rows:4,className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,t.jsxs)(p.DialogFooter,{children:[(0,t.jsx)(s.Button,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:l,children:"Abbrechen"}),(0,t.jsx)(s.Button,{type:"submit",disabled:l,children:l?"Wird gespeichert...":u?"Speichern":"Erstellen"})]})]})]})})}let j=(0,v.createServerReference)("40c79fe125d7170d0b436107d1bde5b3b4e18b25be",v.callServer,void 0,v.findSourceMapURL,"deleteCustomer");var w=e.i(98048);function C({initialCustomers:e,clinicWhatsApp:p,clinicName:h}){let[x,v]=(0,r.useState)(e),[g,b]=(0,r.useState)(!1),[y,C]=(0,r.useState)(null);async function S(e){!confirm("MÃ¶chtest du diesen Kunden wirklich lÃ¶schen?")||(await j(e)).error||v(x.filter(t=>t.id!==e))}function M(){C(null),b(!0)}return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[x.length," Kunde",1!==x.length?"n":""]}),(0,t.jsxs)(s.Button,{onClick:M,children:[(0,t.jsx)(a.Plus,{className:"w-4 h-4 mr-2"}),"Neuer Kunde"]})]}),0===x.length?(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"py-12",children:(0,t.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,t.jsx)("p",{className:"mb-4",children:"Noch keine Kunden angelegt"}),(0,t.jsxs)(s.Button,{onClick:M,children:[(0,t.jsx)(a.Plus,{className:"w-4 h-4 mr-2"}),"Ersten Kunden erstellen"]})]})})}):(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b bg-muted/50",children:[(0,t.jsx)("th",{className:"text-left p-4 font-medium",children:"Name"}),(0,t.jsx)("th",{className:"text-left p-4 font-medium",children:"Kontakt"}),(0,t.jsx)("th",{className:"text-left p-4 font-medium",children:"Geburtsdatum"}),(0,t.jsx)("th",{className:"text-left p-4 font-medium",children:"Notizen"}),(0,t.jsx)("th",{className:"text-right p-4 font-medium",children:"Aktionen"})]})}),(0,t.jsx)("tbody",{children:x.map(e=>{var r;return(0,t.jsxs)("tr",{className:"border-b last:border-0 hover:bg-muted/50 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)(n.default,{href:`/dashboard/customers/${e.id}`,className:"font-medium hover:text-primary hover:underline",children:[e.first_name," ",e.last_name]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[e.email&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(d.Mail,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.email})]}),e.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(c.Phone,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.phone})]}),!e.email&&!e.phone&&(0,t.jsx)("span",{className:"text-muted-foreground",children:"-"})]})}),(0,t.jsx)("td",{className:"p-4",children:e.date_of_birth?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(u.Calendar,{className:"w-3 h-3 text-muted-foreground"}),(0,t.jsx)("span",{children:(r=e.date_of_birth)?new Date(r).toLocaleDateString("de-DE"):"-"})]}):(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"-"})}),(0,t.jsx)("td",{className:"p-4",children:e.notes?(0,t.jsx)("div",{className:"text-sm text-muted-foreground max-w-xs truncate",children:e.notes}):(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"-"})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",asChild:!0,title:"Details anzeigen",children:(0,t.jsx)(n.default,{href:`/dashboard/customers/${e.id}`,children:(0,t.jsx)(f,{className:"w-4 h-4"})})}),p&&e.phone&&(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",asChild:!0,title:"Per WhatsApp kontaktieren",children:(0,t.jsx)("a",{href:(0,w.getCustomerContactLink)(e.phone,`${e.first_name} ${e.last_name}`,h),target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(m.MessageCircle,{className:"w-4 h-4 text-green-600"})})}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>{C(e),b(!0)},children:(0,t.jsx)(l.Edit,{className:"w-4 h-4"})}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>S(e.id),children:(0,t.jsx)(o.Trash2,{className:"w-4 h-4 text-destructive"})})]})})]},e.id)})})]})})})}),(0,t.jsx)(N,{open:g,onOpenChange:function(){b(!1),C(null)},customer:y})]})}e.s(["CustomersList",()=>C],3461)}]);