{"version":3,"sources":["../../../../../../apps/web/lib/actions/analytics.ts","../../../../../../apps/web/.next-internal/server/app/dashboard/analytics/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["'use server'\n\nimport { createClient } from '@/lib/supabase/server'\n\nexport type PeriodType = 'today' | 'week' | 'month' | 'year'\n\nexport type RevenueStats = {\n  total: number\n  completed: number\n  pending: number\n  canceled: number\n  appointmentCount: number\n  completedCount: number\n  canceledCount: number\n  noShowCount: number\n}\n\nexport type ServiceStats = {\n  id: string\n  name: string\n  bookingCount: number\n  revenue: number\n  averagePrice: number\n}\n\nexport type DailyRevenue = {\n  date: string\n  revenue: number\n  count: number\n}\n\nexport type EmployeeStats = {\n  id: string\n  name: string\n  appointmentCount: number\n  revenue: number\n  completedCount: number\n}\n\nexport type CustomerStats = {\n  totalCustomers: number\n  newCustomers: number\n  returningCustomers: number\n  averageSpent: number\n}\n\n/**\n * Get date range for a period\n */\nfunction getDateRange(period: PeriodType): { start: Date; end: Date } {\n  const now = new Date()\n  const end = new Date(now)\n  end.setHours(23, 59, 59, 999)\n\n  const start = new Date(now)\n  start.setHours(0, 0, 0, 0)\n\n  switch (period) {\n    case 'today':\n      // Already set to today\n      break\n    case 'week':\n      start.setDate(start.getDate() - 7)\n      break\n    case 'month':\n      start.setMonth(start.getMonth() - 1)\n      break\n    case 'year':\n      start.setFullYear(start.getFullYear() - 1)\n      break\n  }\n\n  return { start, end }\n}\n\n/**\n * Get revenue statistics for a period\n */\nexport async function getRevenueStats(period: PeriodType = 'month'): Promise<{\n  stats: RevenueStats | null\n  error: string | null\n}> {\n  const supabase = await createClient()\n\n  const { data: { user } } = await supabase.auth.getUser()\n  if (!user) {\n    return { stats: null, error: 'Nicht authentifiziert' }\n  }\n\n  const { data: profile } = await supabase\n    .from('users')\n    .select('tenant_id')\n    .eq('id', user.id)\n    .single()\n\n  if (!profile?.tenant_id) {\n    return { stats: null, error: 'Kein Tenant gefunden' }\n  }\n\n  const { start, end } = getDateRange(period)\n\n  const { data: appointments, error } = await supabase\n    .from('appointments')\n    .select('id, status, price, total_paid')\n    .eq('tenant_id', profile.tenant_id)\n    .gte('start_time', start.toISOString())\n    .lte('start_time', end.toISOString())\n\n  if (error) {\n    return { stats: null, error: error.message }\n  }\n\n  const stats: RevenueStats = {\n    total: 0,\n    completed: 0,\n    pending: 0,\n    canceled: 0,\n    appointmentCount: appointments?.length || 0,\n    completedCount: 0,\n    canceledCount: 0,\n    noShowCount: 0\n  }\n\n  for (const apt of appointments || []) {\n    const price = apt.price || 0\n\n    switch (apt.status) {\n      case 'completed':\n        stats.completed += price\n        stats.total += price\n        stats.completedCount++\n        break\n      case 'scheduled':\n      case 'confirmed':\n        stats.pending += price\n        stats.total += price\n        break\n      case 'canceled':\n        stats.canceled += price\n        stats.canceledCount++\n        break\n      case 'no_show':\n        stats.noShowCount++\n        break\n    }\n  }\n\n  return { stats, error: null }\n}\n\n/**\n * Get daily revenue for charts\n */\nexport async function getDailyRevenue(period: PeriodType = 'month'): Promise<{\n  data: DailyRevenue[]\n  error: string | null\n}> {\n  const supabase = await createClient()\n\n  const { data: { user } } = await supabase.auth.getUser()\n  if (!user) {\n    return { data: [], error: 'Nicht authentifiziert' }\n  }\n\n  const { data: profile } = await supabase\n    .from('users')\n    .select('tenant_id')\n    .eq('id', user.id)\n    .single()\n\n  if (!profile?.tenant_id) {\n    return { data: [], error: 'Kein Tenant gefunden' }\n  }\n\n  const { start, end } = getDateRange(period)\n\n  const { data: appointments, error } = await supabase\n    .from('appointments')\n    .select('start_time, price, status')\n    .eq('tenant_id', profile.tenant_id)\n    .eq('status', 'completed')\n    .gte('start_time', start.toISOString())\n    .lte('start_time', end.toISOString())\n    .order('start_time', { ascending: true })\n\n  if (error) {\n    return { data: [], error: error.message }\n  }\n\n  // Group by date\n  const dailyMap = new Map<string, { revenue: number; count: number }>()\n\n  for (const apt of appointments || []) {\n    const date = new Date(apt.start_time).toISOString().split('T')[0]\n    const existing = dailyMap.get(date) || { revenue: 0, count: 0 }\n    dailyMap.set(date, {\n      revenue: existing.revenue + (apt.price || 0),\n      count: existing.count + 1\n    })\n  }\n\n  // Convert to array and fill missing dates\n  const result: DailyRevenue[] = []\n  const current = new Date(start)\n\n  while (current <= end) {\n    const dateStr = current.toISOString().split('T')[0]\n    const dayData = dailyMap.get(dateStr) || { revenue: 0, count: 0 }\n    result.push({\n      date: dateStr,\n      revenue: dayData.revenue,\n      count: dayData.count\n    })\n    current.setDate(current.getDate() + 1)\n  }\n\n  return { data: result, error: null }\n}\n\n/**\n * Get service statistics\n */\nexport async function getServiceStats(period: PeriodType = 'month'): Promise<{\n  services: ServiceStats[]\n  error: string | null\n}> {\n  const supabase = await createClient()\n\n  const { data: { user } } = await supabase.auth.getUser()\n  if (!user) {\n    return { services: [], error: 'Nicht authentifiziert' }\n  }\n\n  const { data: profile } = await supabase\n    .from('users')\n    .select('tenant_id')\n    .eq('id', user.id)\n    .single()\n\n  if (!profile?.tenant_id) {\n    return { services: [], error: 'Kein Tenant gefunden' }\n  }\n\n  const { start, end } = getDateRange(period)\n\n  const { data: appointments, error } = await supabase\n    .from('appointments')\n    .select(`\n      service_id,\n      price,\n      status,\n      services (\n        id,\n        name\n      )\n    `)\n    .eq('tenant_id', profile.tenant_id)\n    .in('status', ['completed', 'scheduled', 'confirmed'])\n    .gte('start_time', start.toISOString())\n    .lte('start_time', end.toISOString())\n\n  if (error) {\n    return { services: [], error: error.message }\n  }\n\n  // Group by service\n  const serviceMap = new Map<string, ServiceStats>()\n\n  for (const apt of appointments || []) {\n    const service = Array.isArray(apt.services) ? apt.services[0] : apt.services\n    if (!service) continue\n\n    const serviceId = (service as { id: string }).id\n    const serviceName = (service as { name: string }).name\n    const existing = serviceMap.get(serviceId) || {\n      id: serviceId,\n      name: serviceName,\n      bookingCount: 0,\n      revenue: 0,\n      averagePrice: 0\n    }\n\n    existing.bookingCount++\n    existing.revenue += apt.price || 0\n    serviceMap.set(serviceId, existing)\n  }\n\n  // Calculate averages and sort by booking count\n  const services = Array.from(serviceMap.values())\n    .map(s => ({\n      ...s,\n      averagePrice: s.bookingCount > 0 ? s.revenue / s.bookingCount : 0\n    }))\n    .sort((a, b) => b.bookingCount - a.bookingCount)\n\n  return { services, error: null }\n}\n\n/**\n * Get employee statistics\n */\nexport async function getEmployeeStats(period: PeriodType = 'month'): Promise<{\n  employees: EmployeeStats[]\n  error: string | null\n}> {\n  const supabase = await createClient()\n\n  const { data: { user } } = await supabase.auth.getUser()\n  if (!user) {\n    return { employees: [], error: 'Nicht authentifiziert' }\n  }\n\n  const { data: profile } = await supabase\n    .from('users')\n    .select('tenant_id')\n    .eq('id', user.id)\n    .single()\n\n  if (!profile?.tenant_id) {\n    return { employees: [], error: 'Kein Tenant gefunden' }\n  }\n\n  const { start, end } = getDateRange(period)\n\n  const { data: appointments, error } = await supabase\n    .from('appointments')\n    .select(`\n      employee_id,\n      price,\n      status,\n      employees (\n        id,\n        first_name,\n        last_name\n      )\n    `)\n    .eq('tenant_id', profile.tenant_id)\n    .not('employee_id', 'is', null)\n    .gte('start_time', start.toISOString())\n    .lte('start_time', end.toISOString())\n\n  if (error) {\n    return { employees: [], error: error.message }\n  }\n\n  // Group by employee\n  const employeeMap = new Map<string, EmployeeStats>()\n\n  for (const apt of appointments || []) {\n    if (!apt.employee_id) continue\n\n    const employee = Array.isArray(apt.employees) ? apt.employees[0] : apt.employees\n    if (!employee) continue\n\n    const emp = employee as { id: string; first_name: string; last_name: string }\n    const existing = employeeMap.get(apt.employee_id) || {\n      id: apt.employee_id,\n      name: `${emp.first_name} ${emp.last_name}`,\n      appointmentCount: 0,\n      revenue: 0,\n      completedCount: 0\n    }\n\n    existing.appointmentCount++\n    if (apt.status === 'completed') {\n      existing.revenue += apt.price || 0\n      existing.completedCount++\n    }\n    employeeMap.set(apt.employee_id, existing)\n  }\n\n  const employees = Array.from(employeeMap.values())\n    .sort((a, b) => b.revenue - a.revenue)\n\n  return { employees, error: null }\n}\n\n/**\n * Get customer statistics\n */\nexport async function getCustomerStats(period: PeriodType = 'month'): Promise<{\n  stats: CustomerStats | null\n  error: string | null\n}> {\n  const supabase = await createClient()\n\n  const { data: { user } } = await supabase.auth.getUser()\n  if (!user) {\n    return { stats: null, error: 'Nicht authentifiziert' }\n  }\n\n  const { data: profile } = await supabase\n    .from('users')\n    .select('tenant_id')\n    .eq('id', user.id)\n    .single()\n\n  if (!profile?.tenant_id) {\n    return { stats: null, error: 'Kein Tenant gefunden' }\n  }\n\n  const { start, end } = getDateRange(period)\n\n  // Get total customers\n  const { count: totalCustomers } = await supabase\n    .from('customers')\n    .select('*', { count: 'exact', head: true })\n    .eq('tenant_id', profile.tenant_id)\n\n  // Get new customers (created in period)\n  const { count: newCustomers } = await supabase\n    .from('customers')\n    .select('*', { count: 'exact', head: true })\n    .eq('tenant_id', profile.tenant_id)\n    .gte('created_at', start.toISOString())\n    .lte('created_at', end.toISOString())\n\n  // Get customers with appointments in period\n  const { data: appointmentCustomers } = await supabase\n    .from('appointments')\n    .select('customer_id, price, status')\n    .eq('tenant_id', profile.tenant_id)\n    .eq('status', 'completed')\n    .gte('start_time', start.toISOString())\n    .lte('start_time', end.toISOString())\n\n  // Calculate returning customers (more than 1 appointment)\n  const customerAppointments = new Map<string, number>()\n  let totalRevenue = 0\n\n  for (const apt of appointmentCustomers || []) {\n    const count = customerAppointments.get(apt.customer_id) || 0\n    customerAppointments.set(apt.customer_id, count + 1)\n    totalRevenue += apt.price || 0\n  }\n\n  const returningCustomers = Array.from(customerAppointments.values())\n    .filter(count => count > 1).length\n\n  const stats: CustomerStats = {\n    totalCustomers: totalCustomers || 0,\n    newCustomers: newCustomers || 0,\n    returningCustomers,\n    averageSpent: customerAppointments.size > 0 ? totalRevenue / customerAppointments.size : 0\n  }\n\n  return { stats, error: null }\n}\n","export {logout as '00ea5d6db9aa78d155ad7148c00d987a78197cad0e'} from 'ACTIONS_MODULE0'\nexport {login as '40557600bffd5a2c9eccc9fb8b66b41ea0de68fa87'} from 'ACTIONS_MODULE0'\nexport {signup as '40edf544285d63aedbf98dd3fd472b99b616040b0a'} from 'ACTIONS_MODULE0'\nexport {getCustomerStats as '405b2fa7f26c9244805fae2402ed480423dba0f5b1'} from 'ACTIONS_MODULE1'\nexport {getDailyRevenue as '4073d8e6e96ebb9b7cb63118941bb6d6d67ccbf3d3'} from 'ACTIONS_MODULE1'\nexport {getRevenueStats as '4078fb8ea762750431f1c09776919659dc3d0b0635'} from 'ACTIONS_MODULE1'\nexport {getEmployeeStats as '40ac9402f23b1bd4fc9d0ac190cfcdef0ca0da692f'} from 'ACTIONS_MODULE1'\nexport {getServiceStats as '40c4a7aa5ba46dad44656eb17c3e905f481f09d023'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OA+CA,SAAS,EAAa,CAAkB,EACtC,IAAM,EAAM,IAAI,KACV,EAAM,IAAI,KAAK,GACrB,EAAI,QAAQ,CAAC,GAAI,GAAI,GAAI,KAEzB,IAAM,EAAQ,IAAI,KAAK,GAGvB,OAFA,EAAM,QAAQ,CAAC,EAAG,EAAG,EAAG,GAEhB,GACN,IAAK,QAEH,KACF,KAAK,OACH,EAAM,OAAO,CAAC,EAAM,OAAO,GAAK,GAChC,KACF,KAAK,QACH,EAAM,QAAQ,CAAC,EAAM,QAAQ,GAAK,GAClC,KACF,KAAK,OACH,EAAM,WAAW,CAAC,EAAM,WAAW,GAAK,EAE5C,CAEA,MAAO,OAAE,MAAO,CAAI,CACtB,CAKO,eAAe,EAAgB,EAAqB,OAAO,EAIhE,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAE7B,CAAE,KAAM,MAAE,CAAI,CAAE,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GACtD,GAAI,CAAC,EACH,IADS,EACF,CAAE,MAAO,KAAM,MAAO,uBAAwB,EAGvD,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,MAAM,EAC7B,IAAI,CAAC,SACL,MAAM,CAAC,aACP,EAAE,CAAC,KAAM,EAAK,EAAE,EAChB,MAAM,GAET,GAAI,CAAC,GAAS,UACZ,CADuB,KAChB,CAAE,MAAO,KAAM,MAAO,sBAAuB,EAGtD,GAAM,CAAE,OAAK,KAAE,CAAG,CAAE,CAAG,EAAa,GAE9B,CAAE,KAAM,CAAY,CAAE,OAAK,CAAE,CAAG,MAAM,EACzC,IAAI,CAAC,gBACL,MAAM,CAAC,iCACP,EAAE,CAAC,YAAa,EAAQ,SAAS,EACjC,GAAG,CAAC,aAAc,EAAM,WAAW,IACnC,GAAG,CAAC,aAAc,EAAI,WAAW,IAEpC,GAAI,EACF,KADS,CACF,CAAE,MAAO,KAAM,MAAO,EAAM,OAAO,AAAC,EAG7C,IAAM,EAAsB,CAC1B,MAAO,EACP,UAAW,EACX,QAAS,EACT,SAAU,EACV,iBAAkB,GAAc,QAAU,EAC1C,eAAgB,EAChB,cAAe,EACf,YAAa,CACf,EAEA,IAAK,IAAM,KAAO,GAAgB,EAAE,CAAE,CACpC,IAAM,EAAQ,EAAI,KAAK,EAAI,EAE3B,OAAQ,EAAI,MAAM,EAChB,IAAK,YACH,EAAM,SAAS,EAAI,EACnB,EAAM,KAAK,EAAI,EACf,EAAM,cAAc,GACpB,KACF,KAAK,YACL,IAAK,YACH,EAAM,OAAO,EAAI,EACjB,EAAM,KAAK,EAAI,EACf,KACF,KAAK,WACH,EAAM,QAAQ,EAAI,EAClB,EAAM,aAAa,GACnB,KACF,KAAK,UACH,EAAM,WAAW,EAErB,CACF,CAEA,MAAO,OAAE,EAAO,MAAO,IAAK,CAC9B,CAKO,eAAe,EAAgB,EAAqB,OAAO,EAIhE,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAE7B,CAAE,KAAM,MAAE,CAAI,CAAE,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GACtD,GAAI,CAAC,EACH,IADS,EACF,CAAE,KAAM,EAAE,CAAE,MAAO,uBAAwB,EAGpD,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,MAAM,EAC7B,IAAI,CAAC,SACL,MAAM,CAAC,aACP,EAAE,CAAC,KAAM,EAAK,EAAE,EAChB,MAAM,GAET,GAAI,CAAC,GAAS,UACZ,CADuB,KAChB,CAAE,KAAM,EAAE,CAAE,MAAO,sBAAuB,EAGnD,GAAM,OAAE,CAAK,KAAE,CAAG,CAAE,CAAG,EAAa,GAE9B,CAAE,KAAM,CAAY,OAAE,CAAK,CAAE,CAAG,MAAM,EACzC,IAAI,CAAC,gBACL,MAAM,CAAC,6BACP,EAAE,CAAC,YAAa,EAAQ,SAAS,EACjC,EAAE,CAAC,SAAU,aACb,GAAG,CAAC,aAAc,EAAM,WAAW,IACnC,GAAG,CAAC,aAAc,EAAI,WAAW,IACjC,KAAK,CAAC,aAAc,CAAE,WAAW,CAAK,GAEzC,GAAI,EACF,KADS,CACF,CAAE,KAAM,EAAE,CAAE,MAAO,EAAM,OAAO,AAAC,EAI1C,IAAM,EAAW,IAAI,IAErB,IAAK,IAAM,KAAO,GAAgB,EAAE,CAAE,CACpC,IAAM,EAAO,IAAI,KAAK,EAAI,UAAU,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC3D,EAAW,EAAS,GAAG,CAAC,IAAS,CAAE,QAAS,EAAG,MAAO,CAAE,EAC9D,EAAS,GAAG,CAAC,EAAM,CACjB,QAAS,EAAS,OAAO,CAAI,EAAD,CAAK,KAAK,EAAI,CAAC,EAC3C,MAAO,EAAS,KAAK,CAAG,CAC1B,EACF,CAGA,IAAM,EAAyB,EAAE,CAC3B,EAAU,IAAI,KAAK,GAEzB,KAAO,GAAW,GAAK,CACrB,IAAM,EAAU,EAAQ,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,EAAU,EAAS,GAAG,CAAC,IAAY,CAAE,QAAS,EAAG,MAAO,CAAE,EAChE,EAAO,IAAI,CAAC,CACV,KAAM,EACN,QAAS,EAAQ,OAAO,CACxB,MAAO,EAAQ,KAAK,AACtB,GACA,EAAQ,OAAO,CAAC,EAAQ,OAAO,GAAK,EACtC,CAEA,MAAO,CAAE,KAAM,EAAQ,MAAO,IAAK,CACrC,CAKO,eAAe,EAAgB,EAAqB,OAAO,EAIhE,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAE7B,CAAE,KAAM,MAAE,CAAI,CAAE,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GACtD,GAAI,CAAC,EACH,IADS,EACF,CAAE,SAAU,EAAE,CAAE,MAAO,uBAAwB,EAGxD,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,MAAM,EAC7B,IAAI,CAAC,SACL,MAAM,CAAC,aACP,EAAE,CAAC,KAAM,EAAK,EAAE,EAChB,MAAM,GAET,GAAI,CAAC,GAAS,UACZ,CADuB,KAChB,CAAE,SAAU,EAAE,CAAE,MAAO,sBAAuB,EAGvD,GAAM,OAAE,CAAK,KAAE,CAAG,CAAE,CAAG,EAAa,GAE9B,CAAE,KAAM,CAAY,OAAE,CAAK,CAAE,CAAG,MAAM,EACzC,IAAI,CAAC,gBACL,MAAM,CAAC,CAAC;;;;;;;;IAQT,CAAC,EACA,EAAE,CAAC,YAAa,EAAQ,SAAS,EACjC,EAAE,CAAC,SAAU,CAAC,YAAa,YAAa,YAAY,EACpD,GAAG,CAAC,aAAc,EAAM,WAAW,IACnC,GAAG,CAAC,aAAc,EAAI,WAAW,IAEpC,GAAI,EACF,KADS,CACF,CAAE,SAAU,EAAE,CAAE,MAAO,EAAM,OAAO,AAAC,EAI9C,IAAM,EAAa,IAAI,IAEvB,IAAK,IAAM,KAAO,GAAgB,EAAE,CAAE,CACpC,IAAM,EAAU,MAAM,OAAO,CAAC,EAAI,QAAQ,EAAI,EAAI,QAAQ,CAAC,EAAE,CAAG,EAAI,QAAQ,CAC5E,GAAI,CAAC,EAAS,SAEd,IAAM,EAAa,EAA2B,EAAE,CAC1C,EAAe,EAA6B,IAAI,CAChD,EAAW,EAAW,GAAG,CAAC,IAAc,CAC5C,GAAI,EACJ,KAAM,EACN,aAAc,EACd,QAAS,EACT,aAAc,CAChB,EAEA,EAAS,YAAY,GACrB,EAAS,OAAO,EAAI,EAAI,KAAK,EAAI,EACjC,EAAW,GAAG,CAAC,EAAW,EAC5B,CAUA,MAAO,CAAE,SAPQ,MAAM,IAAI,CAAC,EAAW,MAAM,IAC1C,GAAG,CAAC,IAAK,AAAC,CACT,GAAG,CAAC,CACJ,aAAc,EAAE,YAAY,CAAG,EAAI,EAAE,OAAO,CAAG,EAAE,YAAY,CAAG,CAClE,CAAC,GACA,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,YAAY,CAAG,EAAE,YAAY,EAE9B,MAAO,IAAK,CACjC,CAKO,eAAe,EAAiB,EAAqB,OAAO,EAIjE,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAE7B,CAAE,KAAM,MAAE,CAAI,CAAE,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GACtD,GAAI,CAAC,EACH,IADS,EACF,CAAE,UAAW,EAAE,CAAE,MAAO,uBAAwB,EAGzD,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,MAAM,EAC7B,IAAI,CAAC,SACL,MAAM,CAAC,aACP,EAAE,CAAC,KAAM,EAAK,EAAE,EAChB,MAAM,GAET,GAAI,CAAC,GAAS,UACZ,CADuB,KAChB,CAAE,UAAW,EAAE,CAAE,MAAO,sBAAuB,EAGxD,GAAM,OAAE,CAAK,CAAE,KAAG,CAAE,CAAG,EAAa,GAE9B,CAAE,KAAM,CAAY,OAAE,CAAK,CAAE,CAAG,MAAM,EACzC,IAAI,CAAC,gBACL,MAAM,CAAC,CAAC;;;;;;;;;IAST,CAAC,EACA,EAAE,CAAC,YAAa,EAAQ,SAAS,EACjC,GAAG,CAAC,cAAe,KAAM,MACzB,GAAG,CAAC,aAAc,EAAM,WAAW,IACnC,GAAG,CAAC,aAAc,EAAI,WAAW,IAEpC,GAAI,EACF,KADS,CACF,CAAE,UAAW,EAAE,CAAE,MAAO,EAAM,OAAO,AAAC,EAI/C,IAAM,EAAc,IAAI,IAExB,IAAK,IAAM,KAAO,GAAgB,EAAE,CAAE,CACpC,GAAI,CAAC,EAAI,WAAW,CAAE,SAEtB,IAAM,EAAW,MAAM,OAAO,CAAC,EAAI,SAAS,EAAI,EAAI,SAAS,CAAC,EAAE,CAAG,EAAI,SAAS,CAChF,GAAI,CAAC,EAAU,SAGf,IAAM,EAAW,EAAY,GAAG,CAAC,EAAI,WAAW,GAAK,CACnD,GAAI,EAAI,WAAW,CACnB,KAAM,CAAA,EAAG,EAAI,UAAU,CAAC,CAAC,EAAE,AAHjB,EAGqB,SAAS,CAAA,CAAE,CAC1C,iBAAkB,EAClB,QAAS,EACT,eAAgB,CAClB,EAEA,EAAS,gBAAgB,GACN,aAAa,CAA5B,EAAI,MAAM,GACZ,EAAS,OAAO,EAAI,EAAI,KAAK,EAAI,EACjC,EAAS,cAAc,IAEzB,EAAY,GAAG,CAAC,EAAI,WAAW,CAAE,EACnC,CAKA,MAAO,CAAE,UAHS,MAAM,IAAI,CAAC,EAAY,MAAM,IAC5C,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,OAAO,CAAG,EAAE,OAAO,EAEnB,MAAO,IAAK,CAClC,CAKO,eAAe,EAAiB,EAAqB,OAAO,EAIjE,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAE7B,CAAE,KAAM,MAAE,CAAI,CAAE,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GACtD,GAAI,CAAC,EACH,IADS,EACF,CAAE,MAAO,KAAM,MAAO,uBAAwB,EAGvD,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,MAAM,EAC7B,IAAI,CAAC,SACL,MAAM,CAAC,aACP,EAAE,CAAC,KAAM,EAAK,EAAE,EAChB,MAAM,GAET,GAAI,CAAC,GAAS,UACZ,CADuB,KAChB,CAAE,MAAO,KAAM,MAAO,sBAAuB,EAGtD,GAAM,OAAE,CAAK,KAAE,CAAG,CAAE,CAAG,EAAa,GAG9B,CAAE,MAAO,CAAc,CAAE,CAAG,MAAM,EACrC,IAAI,CAAC,aACL,MAAM,CAAC,IAAK,CAAE,MAAO,QAAS,MAAM,CAAK,GACzC,EAAE,CAAC,YAAa,EAAQ,SAAS,EAG9B,CAAE,MAAO,CAAY,CAAE,CAAG,MAAM,EACnC,IAAI,CAAC,aACL,MAAM,CAAC,IAAK,CAAE,MAAO,QAAS,MAAM,CAAK,GACzC,EAAE,CAAC,YAAa,EAAQ,SAAS,EACjC,GAAG,CAAC,aAAc,EAAM,WAAW,IACnC,GAAG,CAAC,aAAc,EAAI,WAAW,IAG9B,CAAE,KAAM,CAAoB,CAAE,CAAG,MAAM,EAC1C,IAAI,CAAC,gBACL,MAAM,CAAC,8BACP,EAAE,CAAC,YAAa,EAAQ,SAAS,EACjC,EAAE,CAAC,SAAU,aACb,GAAG,CAAC,aAAc,EAAM,WAAW,IACnC,GAAG,CAAC,aAAc,EAAI,WAAW,IAG9B,EAAuB,IAAI,IAC7B,EAAe,EAEnB,IAAK,IAAM,KAAO,GAAwB,EAAE,CAAE,CAC5C,IAAM,EAAQ,EAAqB,GAAG,CAAC,EAAI,WAAW,GAAK,EAC3D,EAAqB,GAAG,CAAC,EAAI,WAAW,CAAE,EAAQ,GAClD,GAAgB,EAAI,KAAK,EAAI,CAC/B,CAYA,MAAO,CAAE,MAPoB,CAC3B,eAAgB,GAAkB,EAClC,aAAc,GAAgB,EAC9B,mBANyB,MAAM,IAAI,CAAC,EAAqB,MAAM,IAC9D,MAAM,CAAC,GAAS,EAAQ,GAAG,MAAM,CAMlC,aAAc,EAAqB,IAAI,CAAG,EAAI,EAAe,EAAqB,IAAI,CAAG,CAC3F,EAEgB,MAAO,IAAK,CAC9B,0CAjXsB,EA2EA,EAqEA,EA+EA,EA+EA,IA9SA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MA2EA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAqEA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MA+EA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MA+EA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,+JC5XtB,IAAA,EAAA,EAAA,CAAA,CAAA,OAGA,EAAA,EAAA,CAAA,CAAA"}