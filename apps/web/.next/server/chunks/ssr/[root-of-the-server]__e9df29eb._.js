module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36827,(a,b,c)=>{"use strict";b.exports=a.r(96135).vendored.contexts.HooksClientContext},25820,(a,b,c)=>{"use strict";b.exports=a.r(96135).vendored.contexts.ServerInsertedHtml},83589,(a,b,c)=>{"use strict";b.exports=a.r(96135).vendored["react-ssr"].ReactDOM},99756,a=>{"use strict";let b=(0,a.i(72873).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],99756)},52461,a=>{"use strict";let b=(0,a.i(72873).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);a.s(["MessageCircle",()=>b],52461)},78189,a=>{"use strict";let b=(0,a.i(72873).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],78189)},57178,a=>{"use strict";let b=(0,a.i(72873).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],57178)},10267,a=>{"use strict";let b=(0,a.i(72873).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],10267)},84285,a=>{"use strict";let b=(0,a.i(72873).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],84285)},93094,a=>{"use strict";let b=(0,a.i(72873).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],93094)},17617,a=>{"use strict";function b(a,b){let c=a.replace(/[\s\-\(\)]/g,""),d=encodeURIComponent(b);return`https://wa.me/${c}?text=${d}`}function c(a){return`Hallo ${a.customerName}! ðŸ‘‹

Dies ist eine Erinnerung an Ihren Termin bei ${a.clinicName}:

ðŸ“… Datum: ${a.date}
ðŸ• Uhrzeit: ${a.time}
ðŸ’† Behandlung: ${a.serviceName}

Wir freuen uns auf Sie!

Bei Fragen oder Termin\xe4nderungen melden Sie sich gerne.`}function d(a,d,e,f,g,h){return b(a,c({customerName:d,date:e,time:f,serviceName:g,clinicName:h}))}function e(a,c,d,e,f,g,h){var i;let j;return b(a,(i={customerName:c,date:d,time:e,serviceName:f,clinicName:g,confirmationUrl:h},j=`Hallo ${i.customerName}! ðŸ‘‹

Termin-Best\xe4tigung bei ${i.clinicName}:

ðŸ“… Datum: ${i.date}
ðŸ• Uhrzeit: ${i.time}
ðŸ’† Behandlung: ${i.serviceName}`,i.confirmationUrl?`${j}

ðŸ”— Bitte best\xe4tigen Sie Ihren Termin:
${i.confirmationUrl}

Wir freuen uns auf Sie!`:`${j}

Bis bald!`))}function f(a,c,d){var e;return b(a,(e={customerName:c,clinicName:d},`Hallo ${e.customerName}! ðŸ‘‹

Hier ist ${e.clinicName}. `))}a.s(["generateWhatsAppLink",()=>b,"getAppointmentConfirmationLink",()=>e,"getAppointmentReminderLink",()=>d,"getAppointmentReminderMessage",()=>c,"getCustomerContactLink",()=>f])},86395,a=>{"use strict";var b=a.i(50586),c=a.i(92989),d=a.i(74949),e=a.i(41487),f=a.i(32714),g=a.i(10267),h=a.i(93094),i=a.i(84285),j=a.i(57178),k=a.i(78189),l=a.i(99756),m=a.i(52461);let n=(0,a.i(72873).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var o=a.i(43578),p=a.i(61644),q=a.i(88524),r=a.i(51959);let s=(0,r.createServerReference)("400d346cab7161c17ec93d5519b52beca6ecac9269",r.callServer,void 0,r.findSourceMapURL,"createCustomer"),t=(0,r.createServerReference)("60cdf908f1b0690e1642847a4cb020fde78f95ad2f",r.callServer,void 0,r.findSourceMapURL,"updateCustomer");var u=a.i(63449);function v({open:a,onOpenChange:d,customer:f}){let g=(0,u.useRouter)(),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),l=!!f;async function m(a){i(!0),k(null);let b=l?await t(f.id,a):await s(a);b.error?(k(b.error),i(!1)):(i(!1),d(!1),g.refresh())}return(0,b.jsx)(o.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(o.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(o.DialogHeader,{children:[(0,b.jsx)(o.DialogTitle,{children:l?"Kunde bearbeiten":"Neuer Kunde"}),(0,b.jsx)(o.DialogDescription,{children:l?"Aktualisiere die Kundendaten":"FÃ¼ge einen neuen Kunden hinzu"})]}),(0,b.jsxs)("form",{action:m,className:"space-y-4",children:[j&&(0,b.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:j})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"first_name",children:"Vorname *"}),(0,b.jsx)(p.Input,{id:"first_name",name:"first_name",placeholder:"Max",defaultValue:f?.first_name||"",required:!0,disabled:h})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"last_name",children:"Nachname *"}),(0,b.jsx)(p.Input,{id:"last_name",name:"last_name",placeholder:"Mustermann",defaultValue:f?.last_name||"",required:!0,disabled:h})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"email",children:"E-Mail"}),(0,b.jsx)(p.Input,{id:"email",name:"email",type:"email",placeholder:"max@beispiel.de",defaultValue:f?.email||"",disabled:h})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"phone",children:"Telefon"}),(0,b.jsx)(p.Input,{id:"phone",name:"phone",type:"tel",placeholder:"+49 123 456789",defaultValue:f?.phone||"",disabled:h})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"date_of_birth",children:"Geburtsdatum"}),(0,b.jsx)(p.Input,{id:"date_of_birth",name:"date_of_birth",type:"date",defaultValue:f?.date_of_birth||"",disabled:h})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"notes",children:"Notizen"}),(0,b.jsx)("textarea",{id:"notes",name:"notes",placeholder:"Besondere WÃ¼nsche, Allergien, etc...",defaultValue:f?.notes||"",disabled:h,rows:4,className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,b.jsxs)(o.DialogFooter,{children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:h,children:"Abbrechen"}),(0,b.jsx)(e.Button,{type:"submit",disabled:h,children:h?"Wird gespeichert...":l?"Speichern":"Erstellen"})]})]})]})})}let w=(0,r.createServerReference)("40c79fe125d7170d0b436107d1bde5b3b4e18b25be",r.callServer,void 0,r.findSourceMapURL,"deleteCustomer");var x=a.i(17617);function y({initialCustomers:a,clinicWhatsApp:o,clinicName:p}){let[q,r]=(0,c.useState)(a),[s,t]=(0,c.useState)(!1),[u,y]=(0,c.useState)(null);async function z(a){!confirm("MÃ¶chtest du diesen Kunden wirklich lÃ¶schen?")||(await w(a)).error||r(q.filter(b=>b.id!==a))}function A(){y(null),t(!0)}return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[q.length," Kunde",1!==q.length?"n":""]}),(0,b.jsxs)(e.Button,{onClick:A,children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4 mr-2"}),"Neuer Kunde"]})]}),0===q.length?(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"py-12",children:(0,b.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,b.jsx)("p",{className:"mb-4",children:"Noch keine Kunden angelegt"}),(0,b.jsxs)(e.Button,{onClick:A,children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4 mr-2"}),"Ersten Kunden erstellen"]})]})})}):(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b bg-muted/50",children:[(0,b.jsx)("th",{className:"text-left p-4 font-medium",children:"Name"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium",children:"Kontakt"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium",children:"Geburtsdatum"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium",children:"Notizen"}),(0,b.jsx)("th",{className:"text-right p-4 font-medium",children:"Aktionen"})]})}),(0,b.jsx)("tbody",{children:q.map(a=>{var c;return(0,b.jsxs)("tr",{className:"border-b last:border-0 hover:bg-muted/50 transition-colors",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)(d.default,{href:`/dashboard/customers/${a.id}`,className:"font-medium hover:text-primary hover:underline",children:[a.first_name," ",a.last_name]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"space-y-1 text-sm",children:[a.email&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,b.jsx)(j.Mail,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.email})]}),a.phone&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,b.jsx)(k.Phone,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.phone})]}),!a.email&&!a.phone&&(0,b.jsx)("span",{className:"text-muted-foreground",children:"-"})]})}),(0,b.jsx)("td",{className:"p-4",children:a.date_of_birth?(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(l.Calendar,{className:"w-3 h-3 text-muted-foreground"}),(0,b.jsx)("span",{children:(c=a.date_of_birth)?new Date(c).toLocaleDateString("de-DE"):"-"})]}):(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"-"})}),(0,b.jsx)("td",{className:"p-4",children:a.notes?(0,b.jsx)("div",{className:"text-sm text-muted-foreground max-w-xs truncate",children:a.notes}):(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"-"})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",asChild:!0,title:"Details anzeigen",children:(0,b.jsx)(d.default,{href:`/dashboard/customers/${a.id}`,children:(0,b.jsx)(n,{className:"w-4 h-4"})})}),o&&a.phone&&(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",asChild:!0,title:"Per WhatsApp kontaktieren",children:(0,b.jsx)("a",{href:(0,x.getCustomerContactLink)(a.phone,`${a.first_name} ${a.last_name}`,p),target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(m.MessageCircle,{className:"w-4 h-4 text-green-600"})})}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>{y(a),t(!0)},children:(0,b.jsx)(h.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>z(a.id),children:(0,b.jsx)(i.Trash2,{className:"w-4 h-4 text-destructive"})})]})})]},a.id)})})]})})})}),(0,b.jsx)(v,{open:s,onOpenChange:function(){t(!1),y(null)},customer:u})]})}a.s(["CustomersList",()=>y],86395)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e9df29eb._.js.map