module.exports=[39123,a=>{"use strict";var b=a.i(38735),c=a.i(56511),d=a.i(80159),e=a.i(81182);async function f(){let a=await (0,d.createClient)(),b=(0,e.createAdminClient)(),{data:{user:c}}=await a.auth.getUser();if(!c)return{settings:null,error:"Nicht authentifiziert"};let{data:f}=await b.from("users").select("tenant_id").eq("id",c.id).single();if(!f)return{settings:null,error:"Profil nicht gefunden"};let{data:g,error:h}=await a.from("tenants").select("*").eq("id",f.tenant_id).single();return h?(console.error("Error fetching tenant:",h),{settings:null,error:h.message}):{settings:g,error:null}}async function g(a){let b=await (0,d.createClient)(),f=(0,e.createAdminClient)(),{data:{user:g}}=await b.auth.getUser();if(!g)return{error:"Nicht authentifiziert"};let{data:h}=await f.from("users").select("tenant_id").eq("id",g.id).single();if(!h)return{error:"Profil nicht gefunden"};let i=a.get("name"),j=a.get("contact_phone"),k=a.get("contact_email"),l=a.get("whatsapp_number"),m=a.get("address"),n=a.get("city"),o=a.get("postal_code"),{error:p}=await b.from("tenants").update({name:i,contact_phone:j||null,contact_email:k||null,whatsapp_number:l||null,address:m||null,city:n||null,postal_code:o||null}).eq("id",h.tenant_id);return p?(console.error("Error updating tenant:",p),{error:p.message}):((0,c.revalidatePath)("/dashboard/settings"),(0,c.revalidatePath)("/dashboard"),{error:null})}(0,a.i(98246).ensureServerEntryExports)([f,g]),(0,b.registerServerReference)(f,"000394212ee760024230aaabf0277c0143a4959c7b",null),(0,b.registerServerReference)(g,"408713dad5b69ddff4146ae0627d12db9f67ec8232",null),a.s(["getTenantSettings",()=>f,"updateTenantSettings",()=>g])},72849,a=>{"use strict";var b=a.i(76392),c=a.i(39123);a.s([],64411),a.i(64411),a.s(["000394212ee760024230aaabf0277c0143a4959c7b",()=>c.getTenantSettings,"00ea5d6db9aa78d155ad7148c00d987a78197cad0e",()=>b.logout,"40557600bffd5a2c9eccc9fb8b66b41ea0de68fa87",()=>b.login,"408713dad5b69ddff4146ae0627d12db9f67ec8232",()=>c.updateTenantSettings,"40edf544285d63aedbf98dd3fd472b99b616040b0a",()=>b.signup],72849)}];

//# sourceMappingURL=apps_web_a417570f._.js.map