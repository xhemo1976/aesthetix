module.exports=[79459,a=>{"use strict";let b=(0,a.i(72873).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);a.s(["Sparkles",()=>b],79459)},80098,a=>{"use strict";let b=(0,a.i(72873).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],80098)},49453,a=>{"use strict";let b=(0,a.i(72873).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],49453)},52461,a=>{"use strict";let b=(0,a.i(72873).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);a.s(["MessageCircle",()=>b],52461)},78189,a=>{"use strict";let b=(0,a.i(72873).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],78189)},57178,a=>{"use strict";let b=(0,a.i(72873).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],57178)},21798,2231,a=>{"use strict";let b=(0,a.i(72873).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["default",()=>b],2231),a.s(["Clock",()=>b],21798)},41487,42261,a=>{"use strict";var b=a.i(50586),c=a.i(92989),d=a.i(39337);let e=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,f=d.clsx,g=(a,b)=>c=>{var d;if((null==b?void 0:b.variants)==null)return f(a,null==c?void 0:c.class,null==c?void 0:c.className);let{variants:g,defaultVariants:h}=b,i=Object.keys(g).map(a=>{let b=null==c?void 0:c[a],d=null==h?void 0:h[a];if(null===b)return null;let f=e(b)||e(d);return g[a][f]}),j=c&&Object.entries(c).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return f(a,i,null==b||null==(d=b.compoundVariants)?void 0:d.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==c?void 0:c.class,null==c?void 0:c.className)};a.s(["cva",0,g],42261);var h=a.i(74192);let i=g("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),j=c.forwardRef(({className:a,variant:c,size:d,asChild:e=!1,...f},g)=>(0,b.jsx)("button",{className:(0,h.cn)(i({variant:c,size:d,className:a})),ref:g,...f}));j.displayName="Button",a.s(["Button",()=>j],41487)},32714,a=>{"use strict";var b=a.i(50586),c=a.i(92989),d=a.i(74192);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},51959,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(79379),g=a.r(5370),h=a.r(47147)},99574,a=>{"use strict";var b=a.i(50586),c=a.i(42261),d=a.i(74192);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},17617,a=>{"use strict";function b(a,b){let c=a.replace(/[\s\-\(\)]/g,""),d=encodeURIComponent(b);return`https://wa.me/${c}?text=${d}`}function c(a){return`Hallo ${a.customerName}! ðŸ‘‹

Dies ist eine Erinnerung an Ihren Termin bei ${a.clinicName}:

ðŸ“… Datum: ${a.date}
ðŸ• Uhrzeit: ${a.time}
ðŸ’† Behandlung: ${a.serviceName}

Wir freuen uns auf Sie!

Bei Fragen oder Termin\xe4nderungen melden Sie sich gerne.`}function d(a,d,e,f,g,h){return b(a,c({customerName:d,date:e,time:f,serviceName:g,clinicName:h}))}function e(a,c,d,e,f,g,h){var i;let j;return b(a,(i={customerName:c,date:d,time:e,serviceName:f,clinicName:g,confirmationUrl:h},j=`Hallo ${i.customerName}! ðŸ‘‹

Termin-Best\xe4tigung bei ${i.clinicName}:

ðŸ“… Datum: ${i.date}
ðŸ• Uhrzeit: ${i.time}
ðŸ’† Behandlung: ${i.serviceName}`,i.confirmationUrl?`${j}

ðŸ”— Bitte best\xe4tigen Sie Ihren Termin:
${i.confirmationUrl}

Wir freuen uns auf Sie!`:`${j}

Bis bald!`))}function f(a,c,d){var e;return b(a,(e={customerName:c,clinicName:d},`Hallo ${e.customerName}! ðŸ‘‹

Hier ist ${e.clinicName}. `))}a.s(["generateWhatsAppLink",()=>b,"getAppointmentConfirmationLink",()=>e,"getAppointmentReminderLink",()=>d,"getAppointmentReminderMessage",()=>c,"getCustomerContactLink",()=>f])},45247,a=>{"use strict";let b=(0,a.i(72873).default)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);a.s(["UserCircle",()=>b],45247)},46964,a=>{"use strict";var b=a.i(50586),c=a.i(92989),d=a.i(41487),e=a.i(32714),f=a.i(99574),g=a.i(52461),h=a.i(21798),i=a.i(49453),j=a.i(80098);let k=(0,a.i(72873).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var l=a.i(78189),m=a.i(57178),n=a.i(79459),o=a.i(45247),p=a.i(51959);let q=(0,p.createServerReference)("40fac9818d250a2754794c3fb55beaf18ccf7085a0",p.callServer,void 0,p.findSourceMapURL,"markReminderSent"),r=(0,p.createServerReference)("407a1e933d7f007ae1a21a263462f272ea6055ee79",p.callServer,void 0,p.findSourceMapURL,"resetReminderStatus");var s=a.i(17617);function t({appointments:a,tenantName:p}){let[t,u]=(0,c.useState)(new Set),v=a=>new Date(a).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),w=async a=>{if(!a.customer.phone)return;let b=(0,s.getAppointmentReminderMessage)({customerName:`${a.customer.first_name} ${a.customer.last_name}`,date:new Date(a.start_time).toLocaleDateString("de-DE",{weekday:"long",day:"numeric",month:"long"}),time:v(a.start_time),serviceName:a.service.name,clinicName:p}),c=(0,s.generateWhatsAppLink)(a.customer.phone,b);window.open(c,"_blank"),u(b=>new Set(b).add(a.id)),await q(a.id),u(b=>{let c=new Set(b);return c.delete(a.id),c})},x=async a=>{u(b=>new Set(b).add(a)),await r(a),u(b=>{let c=new Set(b);return c.delete(a),c})};if(0===a.length)return(0,b.jsx)(e.Card,{children:(0,b.jsxs)(e.CardContent,{className:"py-12 text-center text-muted-foreground",children:[(0,b.jsx)(h.Clock,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{className:"text-lg font-medium",children:"Keine Termine fÃ¼r morgen"}),(0,b.jsx)("p",{className:"text-sm",children:"Es gibt keine anstehenden Termine, fÃ¼r die Erinnerungen gesendet werden mÃ¼ssen."})]})});let y=a.filter(a=>!a.reminder_sent_at),z=a.filter(a=>a.reminder_sent_at);return(0,b.jsxs)("div",{className:"space-y-6",children:[y.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(h.Clock,{className:"w-5 h-5 text-orange-500"}),"Ausstehende Erinnerungen (",y.length,")"]}),(0,b.jsx)("div",{className:"space-y-3",children:y.map(a=>(0,b.jsx)(e.Card,{className:"hover:shadow-md transition-shadow",children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,b.jsx)(h.Clock,{className:"w-4 h-4 text-primary"}),v(a.start_time)]}),(0,b.jsx)(f.Badge,{variant:"outline",children:"confirmed"===a.status?"BestÃ¤tigt":"Geplant"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,b.jsx)(i.User,{className:"w-4 h-4"}),(0,b.jsxs)("span",{className:"font-medium text-foreground",children:[a.customer.first_name," ",a.customer.last_name]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(n.Sparkles,{className:"w-4 h-4"}),a.service.name," (",a.service.duration_minutes," Min.)"]}),a.employee&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(o.UserCircle,{className:"w-4 h-4"}),a.employee.first_name," ",a.employee.last_name]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[a.customer.phone?(0,b.jsxs)("span",{className:"flex items-center gap-1 text-green-600",children:[(0,b.jsx)(l.Phone,{className:"w-3 h-3"}),a.customer.phone]}):(0,b.jsxs)("span",{className:"flex items-center gap-1 text-red-500",children:[(0,b.jsx)(l.Phone,{className:"w-3 h-3"}),"Keine Telefonnummer"]}),a.customer.email&&(0,b.jsxs)("span",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,b.jsx)(m.Mail,{className:"w-3 h-3"}),a.customer.email]})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)(d.Button,{onClick:()=>w(a),disabled:!a.customer.phone||t.has(a.id),className:"bg-green-600 hover:bg-green-700",children:[t.has(a.id)?(0,b.jsx)(k,{className:"w-4 h-4 mr-2 animate-spin"}):(0,b.jsx)(g.MessageCircle,{className:"w-4 h-4 mr-2"}),"WhatsApp senden"]})})]})})},a.id))})]}),z.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(j.Check,{className:"w-5 h-5 text-green-500"}),"Bereits gesendet (",z.length,")"]}),(0,b.jsx)("div",{className:"space-y-3",children:z.map(a=>(0,b.jsx)(e.Card,{className:"bg-green-50/50 border-green-200",children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,b.jsx)(h.Clock,{className:"w-4 h-4 text-green-600"}),v(a.start_time)]}),(0,b.jsxs)(f.Badge,{className:"bg-green-100 text-green-800 border-green-300",children:[(0,b.jsx)(j.Check,{className:"w-3 h-3 mr-1"}),"Gesendet"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.User,{className:"w-4 h-4 text-muted-foreground"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.customer.first_name," ",a.customer.last_name]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(n.Sparkles,{className:"w-4 h-4"}),a.service.name]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Gesendet: ",new Date(a.reminder_sent_at).toLocaleString("de-DE")]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>x(a.id),disabled:t.has(a.id),children:[t.has(a.id)?(0,b.jsx)(k,{className:"w-4 h-4 mr-2 animate-spin"}):(0,b.jsx)(k,{className:"w-4 h-4 mr-2"}),"Erneut senden"]})})]})})},a.id))})]})]})}a.s(["RemindersList",()=>t],46964)}];

//# sourceMappingURL=_94e7c6e3._.js.map