module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},44665,a=>{a.n(a.i(28992))},98710,a=>{a.n(a.i(13490))},2386,a=>{a.n(a.i(52854))},91306,a=>{a.n(a.i(31856))},37022,a=>{a.n(a.i(99382))},68268,a=>{a.n(a.i(18224))},55736,a=>{"use strict";var b=a.i(76925),c=a.i(48191),d=a.i(29504);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},77463,a=>{"use strict";let b=(0,a.i(3535).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],77463)},24635,a=>{"use strict";a.s(["BookingLinkCard",()=>b]);let b=(0,a.i(80846).registerClientReference)(function(){throw Error("Attempted to call BookingLinkCard() from the server but BookingLinkCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/app/dashboard/booking-link-card.tsx <module evaluation>","BookingLinkCard")},54017,a=>{"use strict";a.s(["BookingLinkCard",()=>b]);let b=(0,a.i(80846).registerClientReference)(function(){throw Error("Attempted to call BookingLinkCard() from the server but BookingLinkCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/app/dashboard/booking-link-card.tsx","BookingLinkCard")},74187,a=>{"use strict";a.i(24635);var b=a.i(54017);a.n(b)},19,a=>{"use strict";var b=a.i(76925);a.i(94490);var c=a.i(40356),d=a.i(80159),e=a.i(71251),f=a.i(28074),g=a.i(55736),h=a.i(89517),i=a.i(24840),j=a.i(77463),k=a.i(86387);let l=(0,a.i(3535).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var m=a.i(74187);async function n(){let a=await (0,d.createClient)(),{data:{user:n}}=await a.auth.getUser();n||(0,c.redirect)("/login");let{data:o}=await a.from("users").select("*, tenants(*)").eq("id",n.id).single(),p=new Date,q=new Date(p.setHours(0,0,0,0)).toISOString(),r=new Date(p.setHours(23,59,59,999)).toISOString(),s=new Date(p.getFullYear(),p.getMonth(),1).toISOString(),t=new Date(p.getFullYear(),p.getMonth()+1,0,23,59,59,999).toISOString(),{count:u}=await a.from("customers").select("*",{count:"exact",head:!0}),{count:v}=await a.from("services").select("*",{count:"exact",head:!0}),{count:w}=await a.from("appointments").select("*",{count:"exact",head:!0}).gte("start_time",q).lte("start_time",r),{data:x}=await a.from("appointments").select("price").eq("status","completed").gte("start_time",s).lte("start_time",t),y=x?.reduce((a,b)=>a+(b.price||0),0)||0;return(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h2",{className:"text-3xl font-bold mb-2",children:["Willkommen, ",o?.full_name,"! ðŸ‘‹"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Hier ist dein Dashboard-Ãœberblick"})]}),o?.tenants?.subscription_status==="trial"&&(0,b.jsx)(g.Card,{className:"mb-8 border-primary/50 bg-primary/5",children:(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-primary",children:"ðŸŽ‰ Testphase aktiv"}),(0,b.jsxs)(g.CardDescription,{children:["Deine 14-tÃ¤gige kostenlose Testphase lÃ¤uft noch"," ",o.tenants.trial_ends_at&&Math.ceil((new Date(o.tenants.trial_ends_at).getTime()-Date.now())/864e5)," ","Tage"]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Termine Heute"}),(0,b.jsx)(h.Calendar,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:w||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:0===w?"Noch keine Termine":"Termine heute"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Kunden"}),(0,b.jsx)(i.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:u||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:0===u?"Lege den ersten Kunden an":1===u?"Kunde":"Kunden"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Umsatz (Monat)"}),(0,b.jsx)(j.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["â‚¬",y.toFixed(2)]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Diesen Monat"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Services"}),(0,b.jsx)(k.Sparkles,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:v||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:0===v?"Lege Services an":1===v?"Service":"Services"})]})]})]}),o?.tenants?.slug&&(0,b.jsx)(m.BookingLinkCard,{tenantSlug:o.tenants.slug,tenantName:o.tenants.name}),(0,b.jsxs)(g.Card,{className:"mt-8",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Erste Schritte ðŸš€"}),(0,b.jsx)(g.CardDescription,{children:"Richte deine Klinik ein und starte durch"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(e.default,{href:"/dashboard/services",className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-accent transition-colors",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${(v||0)>0?"bg-green-100 text-green-600":"bg-primary/10 text-primary"}`,children:(v||0)>0?(0,b.jsx)(l,{className:"w-4 h-4"}):"1"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Services hinzufÃ¼gen"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:(v||0)>0?`${v} Service${1===v?"":"s"} angelegt`:"FÃ¼ge deine Behandlungen und Preise hinzu"})]}),(0,b.jsx)(f.Button,{size:"sm",variant:(v||0)>0?"outline":"default",children:(v||0)>0?"Bearbeiten":"Starten"})]}),(0,b.jsxs)(e.default,{href:"/dashboard/employees",className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-accent transition-colors",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:"2"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Mitarbeiter hinzufÃ¼gen"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"FÃ¼ge dein Team und deren Arbeitszeiten hinzu"})]}),(0,b.jsx)(f.Button,{size:"sm",variant:"outline",children:"HinzufÃ¼gen"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg border-green-200 bg-green-50",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:(0,b.jsx)(l,{className:"w-4 h-4"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-green-800",children:"Online-Buchung aktiv"}),(0,b.jsx)("p",{className:"text-sm text-green-600",children:"Kunden kÃ¶nnen Ã¼ber deinen Buchungslink Termine buchen"})]})]})]})})]})]})}a.s(["default",()=>n],19)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3ae20969._.js.map