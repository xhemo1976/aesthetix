module.exports=[85515,a=>{"use strict";var b=a.i(50586),c=a.i(92989),d=a.i(55516),e=a.i(41487),f=a.i(32714),g=a.i(99574),h=a.i(10267),i=a.i(93094),j=a.i(84285),k=a.i(21798),l=a.i(41444),m=a.i(86324),n=a.i(9915),o=a.i(84348);let p=(0,a.i(72873).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var q=a.i(434),r=a.i(43578),s=a.i(61644),t=a.i(88524),u=a.i(95709),v=a.i(51959);let w=(0,v.createServerReference)("402cd21ffb7a3c56b09af06fb4c5043b38c5a55190",v.callServer,void 0,v.findSourceMapURL,"createService"),x=(0,v.createServerReference)("608de8ff0a4bdc697186ecb3f9f725e339083da387",v.callServer,void 0,v.findSourceMapURL,"updateService"),y=(0,v.createServerReference)("4031f14c1707f0e37da0005df8fa8ab36c1a3f5935",v.callServer,void 0,v.findSourceMapURL,"uploadServiceImage");var z=a.i(63449),A=a.i(98416),B=a.i(2611);let C=[{value:"gluten",label:"Gluten",icon:"ðŸŒ¾"},{value:"lactose",label:"Laktose",icon:"ðŸ¥›"},{value:"eggs",label:"Eier",icon:"ðŸ¥š"},{value:"nuts",label:"NÃ¼sse",icon:"ðŸ¥œ"},{value:"peanuts",label:"ErdnÃ¼sse",icon:"ðŸ¥œ"},{value:"soy",label:"Soja",icon:"ðŸ«˜"},{value:"fish",label:"Fisch",icon:"ðŸŸ"},{value:"shellfish",label:"Schalentiere",icon:"ðŸ¦"},{value:"crustaceans",label:"Krebstiere",icon:"ðŸ¦€"},{value:"molluscs",label:"Weichtiere",icon:"ðŸ¦‘"},{value:"celery",label:"Sellerie",icon:"ðŸ¥¬"},{value:"mustard",label:"Senf",icon:"ðŸŸ¡"},{value:"sesame",label:"Sesam",icon:"âšª"},{value:"sulfites",label:"Sulfite",icon:"ðŸ·"},{value:"lupins",label:"Lupinen",icon:"ðŸŒ¿"}],D=[{value:"vegetarian",label:"Vegetarisch",icon:"ðŸ¥¬",color:"text-green-500"},{value:"vegan",label:"Vegan",icon:"ðŸŒ±",color:"text-emerald-500"},{value:"pescatarian",label:"Pescetarisch",icon:"ðŸŸ",color:"text-blue-500"},{value:"flexitarian",label:"Flexitarisch",icon:"ðŸ¥—",color:"text-lime-500"},{value:"halal",label:"Halal",icon:"â˜ªï¸",color:"text-green-600"},{value:"kosher",label:"Koscher",icon:"âœ¡ï¸",color:"text-blue-600"},{value:"lactose_free",label:"Laktosefrei",icon:"ðŸ¥›",color:"text-sky-500"},{value:"gluten_free",label:"Glutenfrei",icon:"ðŸŒ¾",color:"text-amber-500"},{value:"sugar_free",label:"Zuckerfrei",icon:"ðŸš«",color:"text-pink-500"},{value:"low_carb",label:"Low Carb",icon:"ðŸ“‰",color:"text-orange-500"},{value:"keto",label:"Keto",icon:"ðŸ¥‘",color:"text-green-600"},{value:"paleo",label:"Paleo",icon:"ðŸ–",color:"text-amber-600"}],E=[{value:"spicy",label:"Scharf",icon:"ðŸŒ¶ï¸",color:"text-red-500"},{value:"alcohol",label:"Alkoholhaltig",icon:"ðŸ·",color:"text-purple-500"},{value:"caffeine",label:"Koffeinhaltig",icon:"â˜•",color:"text-amber-700"},{value:"additives",label:"Mit Zusatzstoffen",icon:"âš—ï¸",color:"text-gray-500"},{value:"colorants",label:"Mit Farbstoffen",icon:"ðŸŽ¨",color:"text-pink-500"},{value:"preservatives",label:"Mit Konservierungsstoffen",icon:"ðŸ§ª",color:"text-orange-500"},{value:"flavor_enhancers",label:"Mit GeschmacksverstÃ¤rkern",icon:"âœ¨",color:"text-yellow-500"},{value:"blackened",label:"GeschwÃ¤rzt",icon:"â¬›",color:"text-gray-700"},{value:"waxed",label:"Gewachst",icon:"âœ¨",color:"text-yellow-400"},{value:"phosphate",label:"Mit Phosphat",icon:"ðŸ”¬",color:"text-blue-400"},{value:"sweeteners",label:"Mit SÃ¼ÃŸungsmitteln",icon:"ðŸ¬",color:"text-pink-400"}],F=[{value:"traces_possible",label:"Spuren von Allergenen mÃ¶glich",icon:"âš ï¸"},{value:"no_separate_prep",label:"Getrennte Zubereitung nicht garantiert",icon:"ðŸ³"}];function G({open:a,onOpenChange:f,service:g,businessType:h="beauty_clinic"}){let i=(0,z.useRouter)(),[j,k]=(0,c.useState)(!1),[l,p]=(0,c.useState)(null),[v,G]=(0,c.useState)(g?.image_url||null),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(g?.category_image_url||null),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(g?.allergens||[]),[P,Q]=(0,c.useState)(()=>{if(g?.diet_labels?.length)return g.diet_labels;let a=[];return g?.is_vegetarian&&a.push("vegetarian"),g?.is_vegan&&a.push("vegan"),a}),[R,S]=(0,c.useState)(()=>{if(g?.other_labels?.length)return g.other_labels;let a=[];return g?.is_spicy&&a.push("spicy"),a}),[T,U]=(0,c.useState)(g?.cross_contamination||[]),V=(0,c.useRef)(null),W=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(a){if(G(g?.image_url||null),I(null),K(g?.category_image_url||null),M(null),O(g?.allergens||[]),g?.diet_labels?.length)Q(g.diet_labels);else{let a=[];g?.is_vegetarian&&a.push("vegetarian"),g?.is_vegan&&a.push("vegan"),Q(a)}if(g?.other_labels?.length)S(g.other_labels);else{let a=[];g?.is_spicy&&a.push("spicy"),S(a)}U(g?.cross_contamination||[]),p(null)}},[a,g]);let X=!!g,Y="gastronomy"===h,Z=Y?{title:X?"Gericht bearbeiten":"Neues Gericht",description:X?"Aktualisiere die Details des Gerichts":"FÃ¼ge ein neues Gericht zur Speisekarte hinzu",name:"Name des Gerichts",namePlaceholder:"z.B. Wiener Schnitzel",descriptionLabel:"Beschreibung",descriptionPlaceholder:"Zutaten und Zubereitung...",category:"Kategorie / Warengruppe",categoryPlaceholder:"z.B. Vorspeisen, Hauptgerichte, Desserts",duration:"Zubereitungszeit (Min)"}:{title:X?"Behandlung bearbeiten":"Neue Behandlung",description:X?"Aktualisiere die Details der Behandlung":"FÃ¼ge eine neue Behandlung hinzu",name:"Name der Behandlung",namePlaceholder:"z.B. Gesichtsbehandlung",descriptionLabel:"Beschreibung",descriptionPlaceholder:"Kurze Beschreibung der Behandlung...",category:"Kategorie",categoryPlaceholder:"z.B. Gesicht, KÃ¶rper, Massage",duration:"Dauer (Min)"};async function $(a){let b=a.target.files?.[0];if(b)try{let a=await (0,B.default)(b,{maxSizeMB:.5,maxWidthOrHeight:800,useWebWorker:!0});I(a);let c=new FileReader;c.onloadend=()=>{G(c.result)},c.readAsDataURL(a)}catch(a){console.error("Error compressing image:",a),p("Fehler beim Verarbeiten des Bildes")}}async function _(a){let b=a.target.files?.[0];if(b)try{let a=await (0,B.default)(b,{maxSizeMB:.5,maxWidthOrHeight:1200,useWebWorker:!0});M(a);let c=new FileReader;c.onloadend=()=>{K(c.result)},c.readAsDataURL(a)}catch(a){console.error("Error compressing category image:",a),p("Fehler beim Verarbeiten des Bildes")}}async function aa(a){k(!0),p(null);try{let b=g?.image_url||null;if(H){let a=await y(H);if(a.error)throw Error(a.error);b=a.url}else!v&&g?.image_url&&(b=null);let c=g?.category_image_url||null;if(L){let a=await y(L);if(a.error)throw Error(a.error);c=a.url}else!J&&g?.category_image_url&&(c=null);a.set("image_url",b||""),a.set("category_image_url",c||""),a.set("allergens",JSON.stringify(N)),a.set("diet_labels",JSON.stringify(P)),a.set("other_labels",JSON.stringify(R)),a.set("cross_contamination",JSON.stringify(T)),a.set("is_vegetarian",String(P.includes("vegetarian"))),a.set("is_vegan",String(P.includes("vegan"))),a.set("is_spicy",String(R.includes("spicy")));let d=X?await x(g.id,a):await w(a);if(d.error)throw Error(d.error);f(!1),i.refresh()}catch(a){p(a instanceof Error?a.message:"Ein Fehler ist aufgetreten")}finally{k(!1)}}return(0,b.jsx)(r.Dialog,{open:a,onOpenChange:f,children:(0,b.jsxs)(r.DialogContent,{className:Y?"max-w-2xl max-h-[90vh] overflow-y-auto":"",children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:Z.title}),(0,b.jsx)(r.DialogDescription,{children:Z.description})]}),(0,b.jsxs)("form",{action:aa,className:"space-y-4",children:[l&&(0,b.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:l})}),Y&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{children:"Bild des Gerichts"}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[v?(0,b.jsxs)("div",{className:"relative w-32 h-24 rounded-lg overflow-hidden border",children:[(0,b.jsx)(d.default,{src:v,alt:"Vorschau",fill:!0,className:"object-cover"}),(0,b.jsx)("button",{type:"button",onClick:function(){G(null),I(null),V.current&&(V.current.value="")},className:"absolute top-1 right-1 p-1 bg-black/50 rounded-full text-white hover:bg-black/70",children:(0,b.jsx)(A.X,{className:"w-3 h-3"})})]}):(0,b.jsxs)("button",{type:"button",onClick:()=>V.current?.click(),className:"w-32 h-24 border-2 border-dashed rounded-lg flex flex-col items-center justify-center text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[(0,b.jsx)(q.Upload,{className:"w-6 h-6 mb-1"}),(0,b.jsx)("span",{className:"text-xs",children:"Bild wÃ¤hlen"})]}),(0,b.jsx)("input",{ref:V,type:"file",accept:"image/*",onChange:$,className:"hidden"}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,b.jsx)("p",{children:"JPG, PNG oder WebP"}),(0,b.jsx)("p",{children:"Max. 5MB, wird komprimiert"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(t.Label,{htmlFor:"name",children:[Z.name," *"]}),(0,b.jsx)(s.Input,{id:"name",name:"name",placeholder:Z.namePlaceholder,defaultValue:g?.name||"",required:!0,disabled:j})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{htmlFor:"description",children:Z.descriptionLabel}),(0,b.jsx)("textarea",{id:"description",name:"description",placeholder:Z.descriptionPlaceholder,defaultValue:g?.description||"",disabled:j,rows:3,className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{htmlFor:"category",children:Z.category}),(0,b.jsx)(s.Input,{id:"category",name:"category",placeholder:Z.categoryPlaceholder,defaultValue:g?.category||"",disabled:j})]}),Y&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{children:"Warengruppen-Bild (optional)"}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[J?(0,b.jsxs)("div",{className:"relative w-32 h-20 rounded-lg overflow-hidden border",children:[(0,b.jsx)(d.default,{src:J,alt:"Kategorie-Vorschau",fill:!0,className:"object-cover"}),(0,b.jsx)("button",{type:"button",onClick:function(){K(null),M(null),W.current&&(W.current.value="")},className:"absolute top-1 right-1 p-1 bg-black/50 rounded-full text-white hover:bg-black/70",children:(0,b.jsx)(A.X,{className:"w-3 h-3"})})]}):(0,b.jsxs)("button",{type:"button",onClick:()=>W.current?.click(),className:"w-32 h-20 border-2 border-dashed rounded-lg flex flex-col items-center justify-center text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[(0,b.jsx)(q.Upload,{className:"w-5 h-5 mb-1"}),(0,b.jsx)("span",{className:"text-xs",children:"Bild wÃ¤hlen"})]}),(0,b.jsx)("input",{ref:W,type:"file",accept:"image/*",onChange:_,className:"hidden"}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,b.jsx)("p",{children:"Bild fÃ¼r die Warengruppe"}),(0,b.jsx)("p",{children:"z.B. fÃ¼r MenÃ¼-Header"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{htmlFor:"price",children:"Preis (â‚¬) *"}),(0,b.jsx)(s.Input,{id:"price",name:"price",type:"number",step:"0.01",min:"0",placeholder:"89.00",defaultValue:g?.price||"",required:!0,disabled:j})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(t.Label,{htmlFor:"duration_minutes",children:[Z.duration," *"]}),(0,b.jsx)(s.Input,{id:"duration_minutes",name:"duration_minutes",type:"number",min:"1",step:"1",placeholder:Y?"20":"60",defaultValue:g?.duration_minutes||"",required:!0,disabled:j})]})]}),Y&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(t.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Leaf,{className:"w-4 h-4 text-green-500"}),"DiÃ¤t & ErnÃ¤hrung"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:D.map(a=>(0,b.jsxs)("label",{className:`flex items-center gap-2 p-2 rounded-lg border cursor-pointer transition-colors ${P.includes(a.value)?"border-green-500 bg-green-500/10":"border-input hover:border-green-500/50"}`,children:[(0,b.jsx)(u.Checkbox,{checked:P.includes(a.value),onCheckedChange:()=>{var b;return b=a.value,void Q(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])}}),(0,b.jsx)("span",{className:"text-sm",children:a.icon}),(0,b.jsx)("span",{className:"text-xs",children:a.label})]},a.value))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(t.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(o.AlertTriangle,{className:"w-4 h-4 text-amber-500"}),"Allergene (EU-kennzeichnungspflichtig)"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:C.map(a=>(0,b.jsxs)("label",{className:`flex items-center gap-2 p-2 rounded-lg border cursor-pointer transition-colors ${N.includes(a.value)?"border-amber-500 bg-amber-500/10":"border-input hover:border-amber-500/50"}`,children:[(0,b.jsx)(u.Checkbox,{checked:N.includes(a.value),onCheckedChange:()=>{var b;return b=a.value,void O(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])}}),(0,b.jsx)("span",{className:"text-sm",children:a.icon}),(0,b.jsx)("span",{className:"text-xs",children:a.label})]},a.value))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(t.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Flame,{className:"w-4 h-4 text-orange-500"}),"Sonstige Kennzeichnungen"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:E.map(a=>(0,b.jsxs)("label",{className:`flex items-center gap-2 p-2 rounded-lg border cursor-pointer transition-colors ${R.includes(a.value)?"border-orange-500 bg-orange-500/10":"border-input hover:border-orange-500/50"}`,children:[(0,b.jsx)(u.Checkbox,{checked:R.includes(a.value),onCheckedChange:()=>{var b;return b=a.value,void S(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])}}),(0,b.jsx)("span",{className:"text-sm",children:a.icon}),(0,b.jsx)("span",{className:"text-xs",children:a.label})]},a.value))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(t.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(o.AlertTriangle,{className:"w-4 h-4 text-red-500"}),"Kreuzkontaminations-Hinweise"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-2",children:F.map(a=>(0,b.jsxs)("label",{className:`flex items-center gap-2 p-2 rounded-lg border cursor-pointer transition-colors ${T.includes(a.value)?"border-red-500 bg-red-500/10":"border-input hover:border-red-500/50"}`,children:[(0,b.jsx)(u.Checkbox,{checked:T.includes(a.value),onCheckedChange:()=>{var b;return b=a.value,void U(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])}}),(0,b.jsx)("span",{className:"text-sm",children:a.icon}),(0,b.jsx)("span",{className:"text-sm",children:a.label})]},a.value))})]})]}),(0,b.jsxs)(r.DialogFooter,{children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:j,children:"Abbrechen"}),(0,b.jsx)(e.Button,{type:"submit",disabled:j,children:j?"Wird gespeichert...":X?"Speichern":"Erstellen"})]})]})]})})}let H=(0,v.createServerReference)("4072eae6cf452ff8a263c5ef9e89fb633185d5b94d",v.callServer,void 0,v.findSourceMapURL,"deleteService"),I=(0,v.createServerReference)("60e0e2c66009f6838a672eccb9b91822df45af2e93",v.callServer,void 0,v.findSourceMapURL,"toggleServiceStatus"),J=(0,v.createServerReference)("0042a2abe349a413d4622436da0130103736329c4f",v.callServer,void 0,v.findSourceMapURL,"exportServices"),K=(0,v.createServerReference)("40a31f38d9ffa3be3e030d3686f3cc427ead83e6d7",v.callServer,void 0,v.findSourceMapURL,"importServices"),L={gluten:"Gluten",lactose:"Laktose",eggs:"Eier",nuts:"NÃ¼sse",peanuts:"ErdnÃ¼sse",soy:"Soja",fish:"Fisch",shellfish:"Schalentiere",celery:"Sellerie",mustard:"Senf",sesame:"Sesam",sulfites:"Sulfite"};function M({initialServices:a,businessType:r="beauty_clinic"}){let[s,t]=(0,c.useState)(a),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),[y,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),D=(0,c.useRef)(null),E=(0,z.useRouter)(),F="gastronomy"===r,M=F?{item:"Gericht",items:"Gerichte",newItem:"Neues Gericht",firstItem:"Erstes Gericht erstellen",noItems:"Noch keine Gerichte angelegt",deleteConfirm:"MÃ¶chtest du dieses Gericht wirklich lÃ¶schen?"}:{item:"Behandlung",items:"Behandlungen",newItem:"Neue Behandlung",firstItem:"Erste Behandlung erstellen",noItems:"Noch keine Behandlungen angelegt",deleteConfirm:"MÃ¶chtest du diese Behandlung wirklich lÃ¶schen?"};async function N(a){!confirm(M.deleteConfirm)||(await H(a)).error||t(s.filter(b=>b.id!==a))}async function O(a,b){await I(a,b),t(s.map(c=>c.id===a?{...c,is_active:!b}:c))}function P(){x(null),v(!0)}async function Q(){C(!0);try{let a=await J();if(a.error)return void alert("Fehler beim Export: "+a.error);let b=a.services.map(a=>[R(a.name||""),R(a.description||""),R(a.category||""),a.price,a.duration_minutes,a.is_active?"Ja":"Nein",a.is_vegetarian?"Ja":"Nein",a.is_vegan?"Ja":"Nein",a.is_spicy?"Ja":"Nein",R((a.allergens||[]).join(", "))]),c="\uFEFF"+["Name;Beschreibung;Kategorie;Preis;Dauer (Min);Aktiv;Vegetarisch;Vegan;Scharf;Allergene",...b.map(a=>a.join(";"))].join("\n"),d=new Blob([c],{type:"text/csv;charset=utf-8"}),e=URL.createObjectURL(d),f=document.createElement("a");f.href=e,f.download=`${F?"speisekarte":"behandlungen"}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(e)}catch(a){alert("Fehler beim Export")}finally{C(!1)}}function R(a){return a.includes(";")||a.includes('"')||a.includes("\n")?`"${a.replace(/"/g,'""')}"`:a}async function S(a){let b=a.target.files?.[0];if(b){A(!0);try{let a=(await b.text()).split("\n").filter(a=>a.trim());if(a.length<2)return void alert("Die CSV-Datei muss mindestens eine Kopfzeile und eine Datenzeile enthalten");let c=a.slice(1).map(a=>{let b=function(a){let b=[],c="",d=!1;for(let e=0;e<a.length;e++){let f=a[e];'"'===f?d&&'"'===a[e+1]?(c+='"',e++):d=!d:";"!==f||d?c+=f:(b.push(c),c="")}return b.push(c),b}(a);return{name:b[0]?.trim()||"",description:b[1]?.trim()||"",category:b[2]?.trim()||"",price:parseFloat(b[3]?.replace(",",".")||"0"),duration_minutes:parseInt(b[4]||"0")||15,is_active:b[5]?.toLowerCase()!=="nein",is_vegetarian:b[6]?.toLowerCase()==="ja",is_vegan:b[7]?.toLowerCase()==="ja",is_spicy:b[8]?.toLowerCase()==="ja",allergens:b[9]?b[9].split(",").map(a=>a.trim().toLowerCase()).filter(Boolean):[]}}).filter(a=>a.name),d=await K(c);d.error?alert(`Import abgeschlossen mit Fehlern:
${d.imported} von ${d.total} importiert

${d.error}`):alert(`Import erfolgreich: ${d.imported} ${F?"Gerichte":"Behandlungen"} importiert`),E.refresh()}catch(a){console.error("Import error:",a),alert("Fehler beim Lesen der Datei. Stelle sicher, dass es eine gÃ¼ltige CSV-Datei ist.")}finally{A(!1),D.current&&(D.current.value="")}}}return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[s.length," ",1!==s.length?M.items:M.item]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{ref:D,type:"file",accept:".csv",onChange:S,className:"hidden"}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>D.current?.click(),disabled:y,children:[(0,b.jsx)(q.Upload,{className:"w-4 h-4 mr-2"}),y?"Importiert...":"Import"]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:Q,disabled:B||0===s.length,children:[(0,b.jsx)(p,{className:"w-4 h-4 mr-2"}),B?"Exportiert...":"Export"]}),(0,b.jsxs)(e.Button,{onClick:P,children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),M.newItem]})]})]}),0===s.length?(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"py-12",children:(0,b.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,b.jsx)("p",{className:"mb-4",children:M.noItems}),(0,b.jsxs)(e.Button,{onClick:P,children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),M.firstItem]})]})})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>(0,b.jsxs)(f.Card,{className:a.is_active?"":"opacity-60",children:[F&&a.image_url&&(0,b.jsx)("div",{className:"relative h-32 w-full",children:(0,b.jsx)(d.default,{src:a.image_url,alt:a.name,fill:!0,className:"object-cover rounded-t-lg"})}),(0,b.jsx)(f.CardHeader,{className:F&&a.image_url?"pt-3":"",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(f.CardTitle,{className:"text-lg",children:a.name}),a.category&&(0,b.jsx)(f.CardDescription,{className:"text-xs mt-1",children:a.category})]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>{x(a),v(!0)},children:(0,b.jsx)(i.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>N(a.id),children:(0,b.jsx)(j.Trash2,{className:"w-4 h-4 text-destructive"})})]})]})}),(0,b.jsxs)(f.CardContent,{children:[a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:a.description}),F&&(a.is_vegetarian||a.is_vegan||a.is_spicy)&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[a.is_vegan&&(0,b.jsxs)(g.Badge,{variant:"secondary",className:"text-xs bg-emerald-500/10 text-emerald-600",children:[(0,b.jsx)(m.Leaf,{className:"w-3 h-3 mr-1"}),"Vegan"]}),a.is_vegetarian&&!a.is_vegan&&(0,b.jsxs)(g.Badge,{variant:"secondary",className:"text-xs bg-green-500/10 text-green-600",children:[(0,b.jsx)(m.Leaf,{className:"w-3 h-3 mr-1"}),"Vegetarisch"]}),a.is_spicy&&(0,b.jsxs)(g.Badge,{variant:"secondary",className:"text-xs bg-red-500/10 text-red-600",children:[(0,b.jsx)(n.Flame,{className:"w-3 h-3 mr-1"}),"Scharf"]})]}),F&&a.allergens&&a.allergens.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[(0,b.jsx)(o.AlertTriangle,{className:"w-3 h-3 text-amber-500 mr-1"}),a.allergens.map(a=>(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:L[a]||a},a))]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(l.Euro,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"font-semibold",children:a.price.toFixed(2)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,b.jsx)(k.Clock,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:[a.duration_minutes," Min"]})]})]}),(0,b.jsx)(e.Button,{variant:a.is_active?"outline":"default",size:"sm",className:"w-full mt-4",onClick:()=>O(a.id,a.is_active),children:a.is_active?"Deaktivieren":"Aktivieren"})]})]},a.id))}),(0,b.jsx)(G,{open:u,onOpenChange:function(){v(!1),x(null)},service:w,businessType:r})]})}a.s(["ServicesList",()=>M],85515)}];

//# sourceMappingURL=apps_web_app_dashboard_services_services-list_tsx_4a76283c._.js.map